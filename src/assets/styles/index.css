:root {
/* Cores Base */
    /* Paleta mais acessível (amigável a daltônicos) */
    --accent-blue: #005f99; /* azul mais escuro e forte */
    --accent-orange: #f1c40f; /* dourado mais vivo */
    --accent-green: #009E73;
    --accent-purple: #CC79A7;
    --saffron: var(--accent-orange);
    --big-stone: #0f1724; /* fundo escuro */
    --gun-powder: #2b3142; /* cards */
    --bali-hai: #2d78ab; /* azul de texto mais escuro para labels e links */
    --regent-gray: #97a6bd;

    /* Cores para o Novo Design Otimizado */
    --bg-gradient-start: #04477c; /* área mais clara do fundo (site) */
    --bg-gradient-end: #06385d; /* área mais escura do fundo/header */
    --header-bg-dark: #06385d; /* cor principal do header no modo escuro */
    --header-bg-dark-rgba: rgba(6,56,93,0.92);
    --border-color: rgba(132, 149, 169, 0.15); /* Borda mais subtil */
    --text-light: #e0e6ed;
    --text-medium: #a8b3bf;
    --text-dark: #6e798f;
    --glow-color-subtle: rgba(246, 193, 53, 0.3); /* Glow mais discreto */
    --focus-color: var(--accent-blue); /* destaque de foco */

    /* Transições */
    --transition-speed: 0.18s ease-in-out;
    --a11y-scale: 1;
}

/* Base global */
html { font-size: 18px; }
body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    /* text scale controlled by accessibility panel */
    font-size: calc(18px * var(--a11y-scale));
    background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
    color: var(--text-medium);
    min-height: 100vh;
    box-sizing: border-box;
    overflow-x: hidden;
    line-height: 1.8; /* maior legibilidade */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

*, *:before, *:after {
    box-sizing: inherit;
}

a {
    color: var(--saffron);
    text-decoration: none; /* links are not underlined by default; toggle via .a11y-highlight-links */
    transition: color var(--transition-speed), background-color var(--transition-speed);
}
a:hover,
a:focus {
    color: var(--focus-color);
    outline: none;
    background: rgba(255,255,255,0.03);
    text-decoration: underline; /* subtle hover affordance */
    text-underline-offset: 3px;
}

/* Foco visível acessível */
:focus {
    outline: 3px solid var(--focus-color);
    outline-offset: 3px;
}

button {
    cursor: pointer;
    border: none;
    outline: none;
    transition: all var(--transition-speed);
    background-color: transparent;
}
button:focus {
    outline: 3px solid var(--accent-blue);
    outline-offset: 3px;
}

input, textarea {
    font-family: 'Roboto', sans-serif;
    color: var(--text-light);
    background-color: rgba(0,0,0,0.2); /* Fundo sólido em vez de sombra interna */
    border: 1px solid var(--border-color);
    padding: 0.8rem 1rem;
    border-radius: 8px;
    transition: border-color var(--transition-speed), box-shadow var(--transition-speed);
    width: 100%; /* Garante que os inputs ocupem o espaço do form-group */
    font-size: 1rem; /* relativo ao root (18px) */
}
input:focus, textarea:focus {
    border-color: var(--saffron);
    box-shadow: 0 0 0 3px var(--glow-color-subtle);
}

/* Preferências reduzidas de animação */
@media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important; }
}

/* ==========================================================================
   2. Layout Principal e Cabeçalho
   ========================================================================== */
.main-content {
    padding: 0.5rem 2rem;
    max-width: 1280px;
    margin: 0 auto;
}

.main-header {
    padding: 0.6rem 1.2rem 0.8rem;
    display: flex;
    flex-direction: row; /* usar linha em telas largas para manter header compacto */
    align-items: center; /* centraliza logo e controles verticalmente */
    justify-content: space-between;
    gap: 0.5rem;
    position: relative;
    z-index: 1000;
    background: var(--header-bg-dark-rgba); /* usa a cor escura solicitada */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-color);
    transition: transform 0.25s ease, box-shadow 0.25s ease, background 0.25s ease;
}

.main-header.is-scrolled {
    transform: translateY(-16px);
    background: rgba(6,56,93,0.98); /* tom levemente mais escuro ao rolar */
    box-shadow: 0 18px 38px rgba(0,0,0,0.45);
}

.logo {
    height: 180px; /* aumentado para deixar mais visível no header */
    width: auto;
    max-height: 180px;
    border-radius: 0; /* sem círculo em volta da logo principal */
    display: flex;
    transition: transform var(--transition-speed);
  
}
.logo:hover { transform: scale(1.04); }

/* Garantir que, independentemente do arquivo (claro/escuro), a logo exibida no header
   tenha sempre a mesma altura visual. Aplicamos apenas às classes de logo para não
   afetar ícones menores que também usam `theme-adaptable`. */
.main-header .logo.theme-adaptable,
.main-header .logo-large.theme-adaptable,
.main-header .logo-small.theme-adaptable,
.logo.theme-adaptable {
    height: 180px !important;
    max-height: 180px !important;
    width: auto !important;
    object-fit: contain !important;
}

.logo-button {
    flex: 0 0 auto;
    align-self: center;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    background: transparent;
}

.logo-title {
    font-weight: 800;
    letter-spacing: 0.14rem;
    font-size: 0.85rem;
    color: var(--saffron);
    border: 1px solid var(--saffron);
    border-radius: 8px;
    padding: 0.25rem 0.75rem;
}

.header-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.6rem;
    width: 100%;
    flex-wrap: nowrap;
}

.header-controls {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    justify-content: flex-end;
}

@media (min-width: 1280px) {
    /* contêiner adapta-se ao tamanho da logo (138px) + padding */
}

.search-bar {
    display: flex;
    align-items: center;
    width: min(420px, 100%);
    border-radius: 32px;
    overflow: hidden;
    background: rgba(8, 12, 30, 0.85);
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02), 0 14px 24px rgba(0,0,0,0.22);
}

.header-controls .search-bar input {
    border: none;
    padding: 0.7rem 1rem;
    background: transparent;
    color: var(--text-light);
    outline: none;
    flex: 1 1 auto;
    min-width: 140px;
    font-size: 1rem;
}

.header-controls .search-bar button {
    background-color: var(--saffron);
    border: none;
    width: 60px;
    height: 100%;
    cursor: pointer;
    color: var(--big-stone);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
}

.main-nav {
    flex: 1 1 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: 0;
    gap: 0.4rem; /* deixa nav mais compacta para não ficar espaçada demais quando quebrar linha */
}
.main-nav ul {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    gap: 0.4rem; /* reduz distância entre itens para parecer mais junto */
    flex-wrap: nowrap;
    justify-content: center;
}

/* Hide the native desktop UL on small screens; hamburger will control mobile overlay */
.main-nav .desktop-links { display: flex; gap: 0.9rem; align-items: center; }

/* Hamburger button */
.hamburger {
    display: none; /* visible on small screens only */
    width: 44px;
    height: 44px;
    border-radius: 10px;
    background: transparent;
    border: 1px solid rgba(255,255,255,0.1);
    align-items: center;
    justify-content: center;
    cursor: pointer;
    margin-right: 8px;
    padding: 0;
}
.hamburger:focus { outline: 3px solid rgba(0,95,153,0.14); }
.hamburger-box { display: inline-flex; align-items: center; justify-content: center; width: 22px; height: 14px; position: relative; }
.hamburger-inner, .hamburger-inner:before, .hamburger-inner:after {
    width: 22px;
    height: 2px;
    background: #000000 !important;
    display: block;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    transition: transform 200ms ease, opacity 200ms ease;
}
.hamburger-inner { top: 0; }
.hamburger-inner:before { content: ''; top: -6px; }
.hamburger-inner:after { content: ''; top: 6px; }
.hamburger.is-open .hamburger-inner { transform: translateX(-50%) rotate(45deg); }
.hamburger.is-open .hamburger-inner:before { transform: translateX(-50%) rotate(90deg); top: 0; }
.hamburger.is-open .hamburger-inner:after { opacity: 0; }

/* Ensure hamburger is visible in light mode */
[data-theme="light"] .hamburger {
    border-color: rgba(11,26,43,0.15);
}

[data-theme="light"] .hamburger-inner,
[data-theme="light"] .hamburger-inner:before,
[data-theme="light"] .hamburger-inner:after {
    background: #000000 !important;
}

/* Ensure dark theme hamburger uses light strokes and no extra borders */
[data-theme="dark"] .hamburger { border-color: rgba(255,255,255,0.08); background: transparent; }

/* Ensure hamburger lines are always black regardless of theme */
[data-theme="dark"] .hamburger-inner,
[data-theme="dark"] .hamburger-inner:before,
[data-theme="dark"] .hamburger-inner:after {
    background: #000000 !important;
}

/* Mobile overlay menu — centered */
.mobile-nav-overlay {
    position: fixed;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.96); /* default (dark) overlay */
    z-index: 4000;
    padding: 1.25rem;
    animation: menuFadeIn 160ms ease-out;
}


.mobile-nav-overlay .mobile-nav-panel {
    width: min(92%, 560px);
    max-width: 560px;
    background: linear-gradient(180deg, rgba(25, 31, 68, 0.95), rgba(20, 26, 58, 0.98));
    border-radius: 14px;
    padding: clamp(12px, 3.5vw, 20px);
    box-shadow: 0 24px 80px rgba(0,0,0,0.6);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    max-height: 95vh;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
}

.mobile-nav-overlay ul { list-style: none; margin: 0; padding: 0; text-align: center; }
.mobile-nav-overlay li { margin: 8px 0; }
.mobile-nav-overlay a, .mobile-nav-overlay button {
    font-size: clamp(16px, 2.8vw, 18px);
    color: var(--text-light);
    padding: 14px 16px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border-radius: 10px;
    width: 100%;
    text-align: center;
    background: transparent;
    border: none;
    cursor: pointer;
    line-height: 1.1;
    min-height: 48px; /* ensure adequate touch target */
}
.mobile-nav-overlay a:hover, .mobile-nav-overlay button:hover { background: rgba(255,255,255,0.02); color: var(--saffron); }
.mobile-nav-overlay a.active { color: var(--saffron); }

/* Remove default focus outline and apply theme-aware focus ring */
.mobile-nav-overlay a:focus, .mobile-nav-overlay button:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255,255,255,0.04);
}

/* Light theme: darker focus ring */
[data-theme="light"] .mobile-nav-overlay a:focus,
[data-theme="light"] .mobile-nav-overlay button:focus {
    box-shadow: 0 0 0 3px rgba(11,26,43,0.08);
}
.mobile-nav-overlay .mobile-separator { height: 1px; background: rgba(255,255,255,0.03); margin: 8px 0; }

@media (max-width: 420px) {
    .mobile-nav-overlay .mobile-nav-panel { padding: 12px; width: calc(100% - 24px); max-height: 90vh; }
    .mobile-nav-overlay a, .mobile-nav-overlay button.mobile-back { font-size: 15px; padding: 12px; min-height: 44px; }
    
    
    .hamburger { width: 40px; height: 40px; display: inline-flex; }
    .hamburger-box { width: 20px; height: 12px; }
    .hamburger-inner, .hamburger-inner:before, .hamburger-inner:after { width: 20px; height: 2px; }
}

/* Ensure hamburger is visible on small/medium screens (<=768px) */
@media (max-width: 768px) {
    .hamburger { display: inline-flex !important; }
}

/* Light theme: force visible hamburger button and the requested inner-bar color */
[data-theme="light"] .hamburger {
    border-color: rgba(11,26,43,0.12) !important;
    background: transparent !important;
}
[data-theme="light"] .hamburger .hamburger-inner,
[data-theme="light"] .hamburger .hamburger-inner:before,
[data-theme="light"] .hamburger .hamburger-inner:after {
    background: #F0E1B8 !important;
}

/* Extra visibility rules: make hamburger visible on slightly larger mobile/tablet
   sizes and ensure it sits above the header content. */
@media (max-width: 1024px) {
    .hamburger { display: inline-flex !important; z-index: 1100 !important; }
}

/* Light theme: stronger border so the button is visible against pale headers */
[data-theme="light"] .hamburger {
    border-color: rgba(11,26,43,0.18) !important;
    box-shadow: none !important;
}

/* Make the "Não Possui Cadastro?" paragraph readable in dark mode (white) */
[data-theme="dark"] .login_paragraph p,
[data-theme="dark"] .login_paragraph {
    color: #FFFFFF !important;
}

@keyframes menuFadeIn { from { opacity: 0; transform: translateY(-4px); } to { opacity: 1; transform: translateY(0); } }

.main-nav a {
    color: var(--text-light);
    font-weight: 700;
    position: relative;
    padding: 0.6rem 1rem;
    border-radius: 24px;
    transition: background-color var(--transition-speed), color var(--transition-speed), transform var(--transition-speed);
}
.main-nav li {
    display: inline-flex;
    align-items: center;
}
.main-nav a:hover {
    background: rgba(255,255,255,0.03);
    transform: translateY(-2px);
}
.main-nav a:after {
    content: '';
    position: absolute;
    width: 0;
    height: 3px;
    bottom: -6px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--saffron);
    border-radius: 3px;
    transition: width var(--transition-speed);
}
.main-nav a:hover:after,
.main-nav a.active:after {
    width: 70%;
}
.main-nav a.active {
    color: var(--saffron);
    background: linear-gradient(90deg, rgba(246,193,53,0.06), rgba(246,193,53,0.02));
}

.search-bar {
    display: flex;
    border-radius: 28px;
    overflow: hidden;
    background-color: rgba(0,0,0,0.25);
    border: 1px solid rgba(255,255,255,0.03);
    align-items: center;
}

.search-bar input {
    border: none;
    padding: 0.6rem 1rem;
    background: transparent;
    color: var(--text-light);
    outline: none;
    width: 260px;
    min-width: 140px;
}

.search-bar button {
    background-color: var(--saffron);
    border: none;
    padding: 0.6rem 0.9rem;
    cursor: pointer;
    color: var(--big-stone);
    border-radius: 0 26px 26px 0;
    margin-left: 6px;
}

.search-bar button svg, .search-bar button img { display: inline-block; vertical-align: middle; }

/* Dropdown de resultados da busca (tema escuro) */
.search-results {
    position: absolute;
    top: 56px;
    left: 0;
    right: 0;
    background: linear-gradient(180deg, rgba(15,20,36,0.98), rgba(10,12,22,0.98));
    border: 1px solid var(--border-color);
    color: var(--text-light);
    z-index: 2500;
    max-height: 320px;
    overflow: auto;
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
    padding: 6px 0;
}
.search-results ul { list-style: none; margin: 0; padding: 0; }
.search-results li { padding: 10px 14px; border-bottom: 1px solid rgba(255,255,255,0.02); cursor: pointer; }
.search-results li:hover { background: rgba(255,255,255,0.02); }
.search-results .result-meta { color: var(--text-medium); font-size: 0.9rem; }

.profile-area {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    cursor: pointer;
    padding: 0.45rem 0.95rem;
    border-radius: 30px;
    background: rgba(7, 10, 28, 0.92);
    border: 1px solid rgba(255,255,255,0.08);
    transition: all var(--transition-speed);
}
.profile-area:hover {
    background: rgba(0,0,0,0.2);
    border-color: var(--saffron);
}

.profile-name {
    font-weight: 700;
    color: var(--text-light);
}

.profile-photo {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    border: 2px solid var(--saffron);
    overflow: hidden;
    flex-shrink: 0;
}
.profile-photo img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

/* Header nav badge (unread notifications) */
.main-nav li { position: relative; }
.nav-badge {
    position: absolute;
    top: -6px;
    right: -10px;
    background: #e74c3c;
    color: white;
    min-width: 20px;
    height: 20px;
    padding: 0 6px;
    border-radius: 999px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 0.75rem;
    font-weight: 700;
    box-shadow: 0 2px 6px rgba(0,0,0,0.5);
}

/* Modal profile photo (larger, saffron ring) */
.modal-profile-photo {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    border: 4px solid var(--saffron);
    box-shadow: 0 10px 30px rgba(2,6,23,0.6), 0 0 0 6px rgba(246,193,53,0.08);
    object-fit: cover;
}

.profile-modal .modal-profile-header { text-align: center; padding: 1rem 1.2rem; }
.profile-modal .modal-profile-name { margin: 0.6rem 0 0; font-size: 1.1rem; color: var(--text-light); }
.profile-modal .modal-profile-role { margin: 0.2rem 0 0; color: var(--text-medium); }

.profile-modal-content { background: linear-gradient(180deg, rgba(15,20,36,0.98), rgba(10,12,22,0.98)); border: 1px solid var(--border-color); padding: 1.2rem; border-radius: 12px; max-width: 360px; }
.profile-modal { position: fixed; left:0; right:0; top:0; bottom:0; display:flex; align-items:center; justify-content:center; z-index:5000; }
.profile-modal.is-active { visibility: visible; }
.profile-modal.fade-in { animation: fadeIn 220ms ease-out; }
.close-button { position: absolute; right: 10px; top: 8px; background: transparent; border: none; color: var(--text-light); font-size: 1.4rem; cursor: pointer; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(-6px); } to { opacity: 1; transform: translateY(0); } }

/* Theme: Light overrides (applied when documentElement has data-theme="light") */
[data-theme="light"] {
    /* Light theme palette updated per request */
    --bg-gradient-start: #fef9e6; /* área mais clara do fundo (site) */
    --bg-gradient-end: #f0e1bb;   /* área mais escura do fundo / header */
    --text-light: #0f1724;
    --text-medium: #475569;
    --text-dark: #0b1a2b;
    --gun-powder: #6a6b6e;
    --border-color: rgba(11,26,43,0.06);
    --glow-color-subtle: rgba(246,193,53,0.06);
    --saffron: #c19a1b;
    --header-bg-light: #f0e1bb;
    --header-bg-light-rgba: rgba(240,225,187,0.95);
}

/* Theme toggle button in header */
.theme-toggle {
    width: 42px;
    height: 42px;
    border-radius: 22px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: 1px solid rgba(255,255,255,0.04);
    color: var(--text-light);
    cursor: pointer;
    margin-right: 6px;
}
.theme-toggle:focus { outline: 3px solid rgba(0,0,0,0.08); }
.theme-toggle.light {
    background: var(--saffron);
    color: var(--big-stone);
    border-color: rgba(0,0,0,0.06);
}

/* Light-mode refinements: improve contrast, buttons, cards and inputs */
[data-theme="light"] body {
    background: linear-gradient(180deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
    color: var(--text-dark);
}

[data-theme="light"] .main-header {
    /* Header em modo claro: usar a nova cor solicitada */
    background: var(--header-bg-light-rgba);
    border-bottom: 1px solid rgba(11,26,43,0.06);
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}

/* Ensure logo size in light theme matches dark theme */
[data-theme="light"] .main-header .logo,
[data-theme="light"] .main-header .logo-large,
[data-theme="light"] .main-header .logo-small {
    /* Match dark theme height */
    height: 180px !important;
    max-height: 180px !important;
}

/* Keep header appearance consistent on scroll in light mode (no color change) */
[data-theme="light"] .main-header.is-scrolled {
    background: var(--header-bg-light-rgba);
    box-shadow: none;
    transform: translateY(0);
}

/* Reduz o tamanho das logos quando o tema está em modo claro (especificamente para logo_claro) */
[data-theme="light"] .main-nav a {
    color: var(--text-dark);
}

[data-theme="light"] .main-nav a {
    color: var(--text-dark);
}

/* Hamburger styling for light theme */
[data-theme="light"] .hamburger {
    border-color: rgba(11,26,43,0.2);
    background: rgba(11,26,43,0.03);
}

[data-theme="light"] .hamburger-inner,
[data-theme="light"] .hamburger-inner:before,
[data-theme="light"] .hamburger-inner:after {
    background: var(--text-light);
}

[data-theme="light"] .main-nav a.active {
    color: var(--text-dark); /* use darker color for active link in light mode */
    background: rgba(11,26,43,0.04);
}

/* Ensure header logos in light mode match the dark-mode header sizing only */
[data-theme="light"] .main-header .logo,
[data-theme="light"] .main-header .logo-large,
[data-theme="light"] .main-header .logo-small {
    height: 180px !important;
    max-height: 180px !important;
}

[data-theme="light"] .search-bar {
    /* Use site light background tones instead of pure white */
    background: linear-gradient(180deg, var(--bg-gradient-start), var(--bg-gradient-end));
    border: 1px solid rgba(11,26,43,0.08);
}

[data-theme="light"] .search-bar input {
    color: var(--text-dark);
    background: transparent;
}

[data-theme="light"] .search-bar button {
    background: var(--saffron);
    color: #081226;
}

[data-theme="light"] .card {
    /* Make cards match the main light-site tones (beige) so they blend with the index background */
    background: linear-gradient(145deg, var(--bg-gradient-start), var(--bg-gradient-end));
    border: 1px solid rgba(11,26,43,0.08);
    color: var(--text-dark);
    box-shadow: 0 6px 18px rgba(11,26,43,0.06);
}

[data-theme="light"] .card-button {
    background: linear-gradient(90deg, #0b74b8, var(--accent-blue));
    color: #fff;
}

[data-theme="light"] .welcome-title {
    color: #ff9f1c; /* saffron-like for warm greeting */
    text-shadow: none;
}

/* Improve contrast for small text in light mode */
[data-theme="light"] .welcome-subtitle,
[data-theme="light"] .card-description,
[data-theme="light"] .modal-profile-role,
[data-theme="light"] .user-sub {
    color: var(--text-medium);
}

/* Images that should adapt: allow gentle inversion or brightness change in light mode */
.theme-adaptable { transition: filter 180ms ease-in-out, opacity 180ms ease-in-out; }
[data-theme="light"] .theme-adaptable {
    filter: none; /* default for light: show original */
}
[data-theme="dark"] .theme-adaptable {
    filter: drop-shadow(0 8px 18px rgba(2,6,23,0.6));
}

/* Buttons and controls adjustments for accessibility */
[data-theme="light"] button, [data-theme="light"] .card-button {
    border-radius: 12px;
    padding: 0.85rem 1.25rem;
    font-weight: 700;
}

[data-theme="light"] .profile-photo { border-color: var(--saffron); }

/* Make chat bubbles readable in light mode */
[data-theme="light"] .chat-box { background: transparent; }
[data-theme="light"] .message.sent { background: linear-gradient(90deg,#e6f7ff,#d0efff); color: var(--text-dark); }
[data-theme="light"] .message.sent { background: linear-gradient(90deg,#d6f3ff,#bfe6ff); color: var(--text-dark); }
[data-theme="light"] .message.received { background: linear-gradient(180deg, #fbf7ef, #f7f3ea); color: var(--text-dark); }

/* Ensure inputs are visible in light mode */
[data-theme="light"] input, [data-theme="light"] textarea { background: #f3f3e6; color: var(--text-dark); border: 1px solid rgba(11,26,43,0.06); }


/* Containers de seleção/registro devem ficar visualmente mais escuros que o fundo claro */
[data-theme="light"] .selection-container,
[data-theme="light"] .registration-container {
    /* Tornar o container mais escuro no modo claro para melhorar contraste */
    background: rgba(11,26,43,0.22); /* antes 0.12 -> agora mais denso */
    border: 1px solid rgba(11,26,43,0.14);
    box-shadow: 0 12px 36px rgba(2,6,23,0.10);
}

/* Garantir contraste interno: dentro desses containers queremos texto claro
   para que headings, labels e descrições apareçam bem sobre o fundo escuro. */
[data-theme="light"] .selection-container,
[data-theme="light"] .registration-container {
    color: #f8fafc; /* texto claro dentro do painel escuro */
}

[data-theme="light"] .selection-container .selection-title,
[data-theme="light"] .registration-container .registration-title,
[data-theme="light"] .selection-container .selection-subtitle,
[data-theme="light"] .registration-container .registration-subtitle {
    color: #f1f5f9; /* títulos mais visíveis */
    font-weight: 700;
}

[data-theme="light"] .selection-container .selection-card,
[data-theme="light"] .registration-container .selection-card {
    /* manter o fundo dos cards levemente transparente, garantir texto claro */
    color: #f8fafc;
}

/* ------------------------------------------------------------------
   Additional light-mode refinements (profile dropdown, search-bar)
   ------------------------------------------------------------------ */

/* Keep small profile dropdowns / menus consistent in light theme */
[data-theme="light"] .profile-dropdown,
[data-theme="light"] .profile-menu,
[data-theme="light"] .profile-area .profile-menu,
[data-theme="light"] .modal-profile-nav,
[data-theme="light"] .profile-actions {
    background: linear-gradient(145deg, #ecd191, #ecd191);
    border: 1px solid rgba(11,26,43,0.06);
    color: var(--text-dark);
    box-shadow: 0 8px 26px rgba(11,26,43,0.04);
}

/* Make sure individual dropdown links are readable and saffron-tinted */
[data-theme="light"] .profile-dropdown a,
[data-theme="light"] .profile-menu a,
[data-theme="light"] .profile-actions a,
[data-theme="light"] .modal-profile-nav li a {
    color: #d99a00; /* darker saffron for contrast */
}

/* Remove backdrop blur and strong shadows on the search bar in light theme */
[data-theme="light"] .search-bar,
[data-theme="light"] .main-header {
    backdrop-filter: none;
    -webkit-backdrop-filter: none;
}
[data-theme="light"] .search-bar {
    box-shadow: none;
    border: 1px solid rgba(11,26,43,0.06); /* ensure subtle border */
}

/* Mobile nav overlay styling for light theme */
[data-theme="light"] .mobile-nav-overlay {
    background: rgba(232, 199, 77, 0.95);
}

[data-theme="light"] .mobile-nav-overlay .mobile-nav-panel {
    background: rgba(232, 199, 77, 0.98);
    box-shadow: 0 24px 80px rgba(11,26,43,0.15);
}

[data-theme="light"] .mobile-nav-overlay a,
[data-theme="light"] .mobile-nav-overlay button.mobile-back,
[data-theme="light"] .mobile-nav-overlay li {
    color: var(--text-dark);
}

[data-theme="light"] .mobile-nav-overlay a:hover,
[data-theme="light"] .mobile-nav-overlay button.mobile-back:hover {
    background: rgba(11,26,43,0.08);
    color: #a87f1a;
}

[data-theme="light"] .mobile-nav-overlay a.active {
    color: #a87f1a;
}

/* Center the upload/change-photo button under the profile photo */
.profile-picture-upload {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}
.profile-picture-upload .upload-button,
.profile-picture-upload .picture-upload-button,
.profile-modal-content .upload-button {
    margin-top: 0;
    align-self: center;
}

/* Ensure any remaining profile cards in pages use the soft light background */
[data-theme="light"] .profile-card,
[data-theme="light"] .profile-panel,
[data-theme="light"] .profile-overview {
    background: linear-gradient(145deg, #fbf7ef, #f7f3ea);
    border: 1px solid rgba(11,26,43,0.06);
    color: var(--text-dark);
    box-shadow: 0 6px 18px rgba(11,26,43,0.06);
}

/* Stronger specificity: ensure profile-card with both classes ('profile-card card') is not white */
[data-theme="light"] .profile-card.card {
    background: linear-gradient(145deg, #e0cca6, #d4c687) !important;
    border: 1px solid rgba(11,26,43,0.06) !important;
    box-shadow: 0 6px 18px rgba(11,26,43,0.06) !important;
}

/* Center the 'Alterar Foto' button when it's inside the profile header */
.profile-header .card-button,
.profile-header label.card-button {
    margin-top: 0.75rem;
    align-self: center;
    display: inline-flex;
}

/* Enforce saffron tone for common headings/links mentioned by the user */
[data-theme="light"] .welcome-title,
[data-theme="light"] .registration-title,
[data-theme="light"] .selection-title,
[data-theme="light"] .login-paragraph,
[data-theme="light"] .login_paragraph,
[data-theme="light"] .selection-title,
[data-theme="light"] .registration-page .registration-title,
[data-theme="light"] .selection-page .selection-title {
    color: #d99a00; /* darker saffron for readability */
}

/* Darken headings inside profile sections for readability in light theme */
[data-theme="light"] .profile-section-details h4,
[data-theme="light"] .profile-name-large,
[data-theme="light"] .profile-section-details h5,
[data-theme="light"] .profile-section .section-title {
    color: var(--text-dark);
}

/* Ensure the page title 'Meu Perfil' is readable in light theme */
[data-theme="light"] .section-title {
    color: var(--text-dark);
}


[data-theme="light"] .registration-container .form-group label,
[data-theme="light"] .selection-container .card-description {
    color: #0b1a2b; /* labels e descrições mais visíveis - escuro para theme light */
}

/* Improve premium plan text readability in light theme */
[data-theme="light"] .plan-card h3 {
    color: var(--text-dark);
}
[data-theme="light"] .plan-card p {
    color: var(--text-medium);
}

/* Make the 'Seu Plano' cards more legible on light theme by adjusting background and text */
[data-theme="light"] .plan-card {
    background: linear-gradient(145deg, #f8f3e6, #efe6d1);
    border: 1px solid rgba(11,26,43,0.06);
    color: var(--text-dark);
}


/* ==========================================================================
   3. Estilos de Seção e Títulos
   ========================================================================== */
.welcome-section {
    display: flex;
    align-items: center;
    gap: 2.5rem;
    margin-top: 3.5rem;
    margin-bottom: 2.5rem;
}


/* Projects hero (empty state) */
.projects-hero {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 2.5rem 0 3rem;
    background-repeat: no-repeat;
    background-position: center top;
    background-size: cover;
}
.projects-hero-inner {
    text-align: center;
    max-width: 720px;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 16px;
}
.projects-illustration {
    width: min(50%, 520px); /* reduz um pouco para alinhar com outras páginas */
    height: auto;
    display: block;
    margin: 0 auto;
}
.projects-hero-title {
    font-size: clamp(1.6rem, 3.2vw, 2.4rem);
    color: var(--text-light);
    margin: 0;
}
.projects-hero-sub {
    color: var(--text-medium);
    margin: 0;
}

/* If the projects background asset exists, prefer it.
   Use theme-specific floor/background images when available. */
.projects-hero.has-bg { background-image: url('../imgs/chao_escuro.png'); background-repeat: no-repeat; background-position: center top; background-size: cover; }

/* Light theme: use the light floor asset */
[data-theme="light"] .projects-hero.has-bg {
    background-image: url('../imgs/chao_claro.png');
    background-repeat: no-repeat;
    background-position: center top;
    background-size: cover;
}

/* Generic image placeholder to reserve space for future illustrations */
.img-placeholder {
    background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border: 1px dashed rgba(255,255,255,0.15);
    border-radius: 16px;
    width: 100%;
    height: 280px;
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
}

.hero-illustration { width: min(520px, 90%); height: clamp(220px, 32vw, 340px); display: flex; align-items: center; justify-content: center; }
.hero-illustration img { width: 100%; height: 100%; object-fit: contain; display: block; }
.projects-illustration.img-placeholder { height: clamp(220px, 38vw, 360px); }

/* Contracts (empty state) split hero */
.contracts-hero {
    display: grid;
    grid-template-columns: 1fr minmax(260px, 520px);
    align-items: center;
    gap: 2rem;
    padding: 1.5rem 0 0.5rem;
    margin-bottom: 1.5rem; /* evita que a ilustração encoste/entre em conflito com os cards abaixo */
    position: relative;
}
.contracts-hero-left { display: flex; align-items: center; }
.contracts-empty-text { font-size: 1.1rem; color: var(--text-medium); margin: 0 0 0 0.25rem; }
.contracts-hero-right { display: flex; justify-content: center; }
.contracts-illustration {
    width: 100%;
    height: auto;
    max-height: clamp(180px, 30vw, 320px);
    max-width: 480px; /* limita largura para não invadir o layout do card */
    border-radius: 16px;
    object-fit: contain;
    display: block;
    margin: 0 auto;
}

@media (max-width: 768px) {
    .contracts-hero { grid-template-columns: 1fr; gap: 1rem; }
}

/* Jobs hero placeholder (Trabalhos Disponíveis) */
.jobs-hero {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1.2rem 0 1.6rem;
}
.jobs-illustration { width: min(60%, 720px); height: auto; max-height: clamp(200px, 32vw, 320px); border-radius: 16px; object-fit: contain; }

@media (max-width: 480px) {
    .projects-illustration { width: min(80%, 420px); }
    .projects-hero { padding: 1.5rem 0; }
}

/* Em telas menores, restaurar o fluxo normal para evitar sobreposição do menu */
@media (max-width: 880px) {
    .main-header { padding: 0.6rem 1rem 0.7rem; flex-direction: column; align-items: stretch; }
    .header-row {
        flex-direction: column;
        align-items: stretch;
        gap: 0.8rem;
    }
    .header-controls {
        width: 100%;
        justify-content: space-between;
    }
    .search-row { padding: 0 0.5rem; }
}

.welcome-content {
    flex: 1 1 50%;
}

.welcome-title {
    color: var(--saffron);
    font-size: clamp(2.2rem, 6vw, 4.2rem);
    margin-bottom: 0.8rem;
    line-height: 1.02;
    text-shadow: 0 6px 18px rgba(0,0,0,0.6);
}

.welcome-illustration {
    flex: 0 0 46%;
    display: flex;
    justify-content: center;
    align-items: center;
}

.welcome-illustration img {
    max-width: 100%;
    height: auto;
}

.welcome-subtitle {
    font-size: 1.2rem;
    color: var(--regent-gray);
}

.section-title {
    color: var(--text-light);
    font-size: clamp(1.6rem, 3vw, 2.2rem);
    border-bottom: 2px solid var(--gun-powder);
    padding-bottom: 0.8rem;
    margin-bottom: 2rem;
    text-align: center;
}

.list-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
}

/* ==========================================================================
   4. Componentes de Card
   ========================================================================== */
.card {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047); /* Degradê mais subtil */
    border: 1px solid var(--border-color);
    border-radius: 15px;
    padding: 2rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); /* Sombra mais simples */
    display: flex;
    flex-direction: column;
    transition: all var(--transition-speed);
}

.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
    border-color: rgba(246, 193, 53, 0.4);
}

.card-title {
    color: var(--saffron);
    margin-top: 0;
    font-size: clamp(1.3rem, 2.5vw, 1.6rem);
}

.card-description {
    color: var(--text-medium);
    flex-grow: 1;
}

.card-meta {
    display: flex;
    flex-direction: column;
    margin-top: 1rem;
    gap: 0.5rem;
    color: var(--text-dark);
    font-size: 0.9rem;
}

.card-button {
    background: var(--saffron);
    color: var(--big-stone);
    padding: 0.9rem 1.8rem; /* botões maiores para alvos touch */
    border-radius: 30px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-top: 1.25rem;
    align-self: flex-start;
    font-size: 0.95rem;
}

.card-button:hover {
    background-color: var(--saffron);
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}
.reset-button, .remove-button { font-weight: 700; }

/* ==========================================================================
   5. Página de Seleção e Registro
   ========================================================================== */
.selection-page, .registration-page {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    padding: 1rem;
}

/* --------------------------------------------------
   Overrides de cores apenas para a página de registro
   (escurece azuis e intensifica dourados localmente)
   -------------------------------------------------- */
.registration-page .registration-container,
.selection-page .selection-container {
    /* variáveis locais apenas dentro deste container */
    --page-accent-blue: #005f99; /* azul mais escuro e forte para textos/gradientes locais */
    --page-bali-hai: #0b4b66;    /* azul escuro para labels */
    --page-saffron: #f1c40f;     /* dourado mais vivo */
}

/* Tornar a logo maior especificamente na página inicial/seleção (não afeta login/registro) */
.selection-page .logo-large.theme-adaptable,
.selection-page .logo-large {
    width: 360px !important;
    max-width: 100% !important;
    height: auto !important;
    object-fit: contain !important;
}

/* Aumentar logos exibidas dentro do conteúdo principal (páginas freelancer/employer)
   sem afetar formulários de login/registro (estas têm suas próprias exceções). */
.main-content .logo-large,
.main-content .logo-large.theme-adaptable {
    width: 360px !important;
    max-width: 100% !important;
    height: auto !important;
}

.main-content .logo,
.main-content .logo.theme-adaptable {
    height: 150px !important;
    max-height: 150px !important;
    width: auto !important;
}

/* aplicar as variáveis locais nos elementos de registro/seleção */
.registration-page .registration-title,
.selection-page .selection-title {
    color: var(--page-saffron, var(--saffron));
}

.registration-page .form-group label,
.selection-page .form-group label {
    color: var(--page-bali-hai, var(--bali-hai));
}

.registration-page .login_paragraph,
.selection-page .login_paragraph {
    color: var(--page-saffron, var(--saffron));
}

.registration-page .login_paragraph p,
.selection-page .login_paragraph p {
    color: var(--page-bali-hai, #0b4b66); /* parágrafo com azul mais escuro neutro */
}

/* Mais especificidade quando o tema é light (garante override de regras globais) */
[data-theme="light"] .registration-page .form-group label,
[data-theme="light"] .selection-page .form-group label {
    color: var(--page-bali-hai, #0b4b66);
}

[data-theme="light"] .registration-page input::placeholder,
[data-theme="light"] .registration-page textarea::placeholder,
[data-theme="light"] .selection-page input::placeholder,
[data-theme="light"] .selection-page textarea::placeholder {
    color: rgba(11,75,102,0.65); /* placeholder mais visível, porém suave */
}

.registration-page .registration-button,
.selection-page .selection-button {
    background-color: var(--page-saffron, var(--saffron));
    color: var(--big-stone);
}

.registration-page .registration-button:hover,
.selection-page .selection-button:hover {
    background-color: #ffd500; /* hover dourado mais contrastante */
}

.registration-page .password-toggle {
    background-color: var(--page-saffron, var(--saffron));
    color: var(--big-stone);
}

.registration-page .social-login-button {
    border-color: var(--page-bali-hai, var(--bali-hai));
    color: var(--page-bali-hai, var(--bali-hai));
}

.registration-page .card-button,
.selection-page .card-button {
    background: linear-gradient(90deg, var(--page-accent-blue, var(--accent-blue)), #246e9a);
    color: #fff;
}


.selection-container, .registration-container {
    text-align: center;
    max-width: 900px;
    padding: 3rem;
    width: 100%;
    background: rgba(0, 0, 0, 0.2); /* Fundo sólido e transparente */
    border: 1px solid var(--border-color);
    border-radius: 20px;
}

/* Layout horizontal para telas de login */
.login-horizontal {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    gap: 2.5rem;
}

.login-visual {
    flex: 1 1 45%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    border-right: 1px solid rgba(255,255,255,0.06);
    padding-right: 1.5rem;
}

.login-form {
    flex: 1 1 55%;
}

.login-side-actions {
    margin-top: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    align-items: flex-start;
}

.logo-large {
    width: 260px; /* maior nas páginas principais */
    height: auto;
    border-radius: 0; /* tira círculo redondo das logos das telas iniciais */
    object-fit: contain;
    margin-bottom: 2rem;
    border: none;
    box-shadow: none;
}

.logo-small {
    width: 220px;
    height: auto;
    border-radius: 0; /* tira círculo redondo das logos das telas iniciais */
    object-fit: contain;
    margin-bottom: 2rem;
    border: none;
    box-shadow: none;
}

/* Preserve smaller logo sizes inside login/registration pages (these already looked good) */
.registration-page .logo-large,
.registration-container .logo-large,
.registration-page .logo-small,
.registration-container .logo-small {
    width: 220px !important;
    height: auto !important;
}

.selection-title {
    color: var(--saffron);
    font-size: 2rem;
    margin-bottom: 0.5rem;
    margin-top: 5rem;
}
.form-group label {
    color: var(--bali-hai);
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.selection-subtitle {
    font-size: 1.1rem;
    color: var(--regent-gray);
    margin-bottom: 3rem;
}

.selection-page .selection-options, .selection-options {
    display: flex;
    justify-content: center;
    align-items: stretch;
    gap: 2.5rem;
    flex-wrap: nowrap;
    flex-direction: row !important;
}

/* Quando estivermos na rota inicial, garante horizontal via classe global */
.selection-horizontal .selection-options {
    display: flex;
    flex-direction: row !important;
    justify-content: center;
    gap: 2rem;
    flex-wrap: nowrap;
}

/* Explicit row class for the initial selection container */
.selection-row {
    display: flex;
    flex-direction: row !important;
    justify-content: center;
    align-items: stretch;
    gap: 2rem;
    flex-wrap: nowrap;
}

.selection-card {
    background-color: rgba(64, 67, 91, 0.5);
    border-radius: 10px;
    padding: 2rem;
    width: auto;
    flex: 0 0 300px;
    max-width: 300px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
    transition: transform 0.3s, box-shadow 0.3s;
    display: inline-flex;
    flex-direction: column;
    align-items: center;
}

.selection-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.4);
}

.card-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    margin-bottom: 1.5rem;
}

.selection-button {
    background-color: var(--saffron);
    color: var(--big-stone);
    text-decoration: none;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    font-weight: bold;
    transition: background-color 0.3s, transform 0.2s;
    margin-top: 1.5rem;
}

.selection-button:hover {
    background-color: #d99a00;
    transform: translateY(-2px);
}

/* ==========================================================================
   6. Formulários de Registro e Login
   ========================================================================== */
.registration-title {
    color: var(--saffron);
    font-size: 1.8rem;
    margin-bottom: 0.5rem;
}

.registration-subtitle {
    color: var(--regent-gray);
    font-size: 1rem;
    margin-bottom: 2rem;
}

.registration-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    text-align: left;
}

.form-group {
    display: flex;
    flex-direction: column;
    margin-bottom: 1rem;
}

.form-group label {
    color: var(--bali-hai);
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.password-group .password-input-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.password-toggle {
    padding: 0.4rem 0.8rem;
    border-radius: 999px;
    border: none;
    background-color: var(--saffron);
    color: var(--big-stone);
    font-size: 0.8rem;
    cursor: pointer;
    white-space: nowrap;
}

.password-toggle:hover {
    filter: brightness(0.9);
}

.link-button.forgot-password-link {
    margin-top: 0.75rem;
    background: none;
    border: none;
    color: var(--saffron);
    cursor: pointer;
    font-size: 0.9rem;
    text-decoration: underline;
}

.social-login-button {
    margin-top: 1rem;
    background-color: #ffffff;
    color: var(--big-stone);
    border: 1px solid var(--bali-hai);
}

.social-login-button:hover {
    background-color: #f3f4f6;
}

/* Light theme: soften social login button to avoid stark white */
[data-theme="light"] .social-login-button {
    background: linear-gradient(145deg, var(--bg-gradient-start), var(--bg-gradient-end));
    color: var(--big-stone);
    border-color: rgba(11,26,43,0.06);
}

.registration-button {
    background-color: var(--saffron);
    color: var(--big-stone);
    border: none;
    padding: 1rem;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.2s;
}

.registration-button:hover {
    background-color: #d99a00;
    transform: translateY(-2px);
}

.login_paragraph p {
    color: var(--regent-gray);
    margin-top: 1.5rem;
    transition: color 0.25s ease-in-out; /* Adiciona uma transição suave */
}

/* Estilo para o link em si */
.login_paragraph {
    color: var(--saffron);
    text-decoration: none;
    font-weight: 700;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 6px 10px;
    border-radius: 8px;
    background: transparent; /* sem destaque por padrão */
    box-shadow: none;
    transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease;
}

/* Mostrar destaque (shadow/glow) somente quando o modo de destacar links estiver ativo
   (a11y toggle aplica a classe `a11y-highlight-links` no <body>) ou quando o elemento
   tiver a classe utilitária .highlight--active */
.a11y-highlight-links .login_paragraph,
.login_paragraph.highlight--active {
    background: linear-gradient(90deg, rgba(241,196,15,0.10), rgba(241,196,15,0.04));
    box-shadow: 0 14px 40px rgba(241,196,15,0.16), 0 0 30px rgba(241,196,15,0.08) inset;
    transform: translateY(-3px);
}

/* Efeito hover: Quando o rato passa por cima do link (.login_paragraph), 
   alteramos o estilo do parágrafo (p) que está dentro dele. */
.login_paragraph:hover p {
    text-decoration: underline;
    color: var(--text-light); /* Cor ligeiramente mais clara para um bom feedback */
}

/* ==========================================================================
   7. Página de Perfil
   ========================================================================== */
.profile-card {
    padding: 2rem;
    align-items: center;
    background: linear-gradient(145deg, var(--gun-powder), #2d3047); /* fundo escuro igual aos outros cards */
}

/* Light-mode override for profile card: softer off-white matching other light cards */
[data-theme="light"] .profile-card {
    background: linear-gradient(145deg, #fbf7ef, #f7f3ea);
    border: 1px solid rgba(11,26,43,0.06);
    color: var(--text-dark);
    box-shadow: 0 6px 18px rgba(11,26,43,0.06);
}

.profile-header {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: 2rem;
}

.profile-photo-large {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid var(--saffron);
    box-shadow: 0 0 25px var(--glow-color-subtle); /* Glow mais discreto */
    margin-bottom: 1.5rem;
}

.profile-info {
    text-align: center;
}

.profile-name-large {
    color: var(--saffron);
    font-size: 2rem;
    margin: 0;
}

.profile-tagline, .profile-location {
    color: var(--regent-gray);
    margin: 0.5rem 0;
}

.profile-details {
    width: 100%;
    text-align: left;
}

.profile-bio {
    color: var(--bali-hai);
    line-height: 1.6;
    margin-bottom: 2rem;
}

.profile-section-details {
    margin-top: 1.5rem;
}

.profile-section-details h4 {
    color: var(--saffron);
    border-bottom: 1px solid var(--gun-powder);
    padding-bottom: 0.5rem;
    margin-bottom: 1rem;
}

.skills-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
}

.skills-list li {
    background-color: var(--gun-powder);
    padding: 0.7rem 1.2rem;
    border-radius: 20px;
    font-size: 0.95rem;
    color: var(--text-light);
    border: 1px solid var(--border-color);
    transition: all var(--transition-speed);
}
.skills-list li:hover {
    transform: translateY(-3px);
    background: var(--saffron);
    color: var(--big-stone);
}

.project-item {
    background-color: rgba(64, 67, 91, 0.3);
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 1rem;
}

/* ==========================================================================
   8. Página de Configurações
   ========================================================================== */
.settings-section {
    margin-bottom: 2rem;
}

.settings-title {
    color: #d99a00; /* slightly darker saffron for better contrast */
    font-size: 1.5rem;
    margin-top: 0;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid rgba(64, 67, 91, 0.5);
    padding-bottom: 0.8rem;
}

.settings-form {
    margin-top: 1rem;
}

.profile-picture-upload .picture-preview {
    display: flex;
    flex-direction: column; /* stack avatar and button vertically */
    align-items: center;
    gap: 0.5rem;
}

.profile-picture-upload input[type="file"] {
    display: none;
}

.upload-button {
    margin-top: 0;
}

.payment-method-list {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.payment-method {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: rgba(19, 24, 58, 0.5);
    padding: 1rem;
    border-radius: 5px;
}

.remove-button {
    background: none;
    border: 1px solid rgba(102, 107, 132, 0.5);
    color: var(--regent-gray);
    padding: 0.3rem 0.8rem;
    border-radius: 15px;
    cursor: pointer;
    transition: all 0.3s;
}

.remove-button:hover {
    background-color: rgba(255, 82, 82, 0.8);
    border-color: rgba(255, 82, 82, 0.8);
    color: white;
}


/* ==========================================================================
   9. Página de Mensagens
   ========================================================================== */
.messages-container {
    display: flex;
    gap: 1rem;
    height: 70vh;
}

.message-list {
    flex: 1;
    background-color: var(--gun-powder);
    border-radius: 8px;
    padding: 1rem;
    overflow-y: auto;
}

.chat-box {
    flex: 2;
    background-color: var(--gun-powder);
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
}

.chat-messages {
    flex-grow: 1;
    overflow-y: auto;
    padding: 1rem;
}

.chat-input {
    display: flex;
    gap: 0.5rem;
    padding-top: 1rem;
    border-top: 1px solid rgba(132, 149, 169, 0.2);
}

/* Make chat input sticky inside the chat box on narrow screens and ensure good touch targets */
.chat-box { position: relative; }
.chat-input {
    background: transparent;
    padding: 0.9rem;
    align-items: center;
}
.chat-input.sticky, .chat-box .chat-input {
    position: sticky;
    bottom: 0;
    z-index: 20;
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
}

.chat-input input { min-height: 48px; font-size: 1rem; }
.chat-input button { min-width: 84px; padding: 0.9rem 1.2rem; font-weight: 700; }

.chat-input input {
    flex-grow: 1;
    padding: 0.8rem;
    border-radius: 20px;
    border: none;
    background-color: var(--big-stone);
    color: var(--bali-hai);
}

.chat-input button {
    padding: 0.8rem 1.5rem;
    border-radius: 20px;
    border: none;
    background-color: var(--saffron);
    color: var(--big-stone);
    cursor: pointer;
}

/* Mensagens: avatares e bolhas mais modernas */
.message-list ul { list-style: none; margin: 0; padding: 0; }
.user-list-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.6rem 0.4rem; border-radius: 10px; cursor: pointer; }
.user-list-item:hover { background: rgba(0,0,0,0.12); }
.user-list-item.selected { background: rgba(0,0,0,0.16); }
.user-avatar { width: 44px; height: 44px; border-radius: 50%; overflow: hidden; border: 2px solid rgba(255,255,255,0.06); flex-shrink: 0; }
.user-avatar img { width: 100%; height: 100%; object-fit: cover; }
.user-info { display: flex; flex-direction: column; }
.user-name { color: var(--text-light); font-weight: 700; }
.user-sub { color: var(--text-medium); font-size: 0.85rem; }

.chat-messages { display: flex; flex-direction: column; gap: 0.6rem; }
.message { display: flex; align-items: flex-end; gap: 0.6rem; max-width: 100%; }
.message.sent { justify-content: flex-end; }
.message.received { justify-content: flex-start; }
.message-avatar { width: 36px; height: 36px; border-radius: 50%; overflow: hidden; flex-shrink: 0; }
.message-avatar img { width: 100%; height: 100%; object-fit: cover; }
.message-content { background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01)); padding: 10px 12px; border-radius: 12px; color: var(--text-light); max-width: 70%; box-shadow: 0 6px 18px rgba(0,0,0,0.35); }
.message.sent .message-content { background: linear-gradient(90deg, rgba(99,102,241,0.15), rgba(139,92,246,0.12)); color: white; }
.message-content p { margin: 0 0 6px 0; }
.message-content small { color: var(--text-medium); display: block; font-size: 0.7rem; }

.chat-messages::-webkit-scrollbar { height: 8px; width: 8px; }
.chat-messages::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.3); border-radius: 8px; }

/* Classe utilitária para aumentar texto (pode ser aplicada à tag body quando necessário) */
.a11y-large-text {
    font-size: 20px; /* aumenta em relação ao root */
}

/* Contraste alto opcional: aplicar .a11y-high-contrast à <body> para forçar maior contraste */
.a11y-high-contrast {
    --text-light: #ffffff;
    --text-medium: #e6eef8;
    --bg-gradient-start: #05060a;
    --bg-gradient-end: #071428;
    --saffron: #ffb000;
}

/* Painel lateral de acessibilidade */
.a11y-panel { position: fixed; right: 20px; bottom: 30px; z-index: 1400; display: flex; align-items: center; flex-direction: column; gap: 12px; }
.a11y-panel .a11y-toggle { background: var(--accent-blue); color: white; border-radius: 12px; padding: 12px; border: none; cursor: pointer; box-shadow: 0 8px 20px rgba(0,0,0,0.32); width:56px; height:56px; font-size: 1.25rem; display:inline-flex; align-items:center; justify-content:center; }
/* make the body absolute so it can open above or below the toggle without overflow */
.a11y-panel .a11y-body { display: none; position: absolute; right: 70px; width: 420px; max-width: calc(100vw - 30px); max-height: 80vh; overflow: auto; background: linear-gradient(145deg, var(--gun-powder), #2d3047); border-radius: 12px; padding: 18px; box-shadow: 0 10px 36px rgba(0,0,0,0.5); color: var(--text-light); box-sizing: border-box; word-break: break-word; white-space: normal; }
.a11y-panel.open .a11y-body { display: block; }

/* placement variants: when panel sits near bottom, open above; when near top, open below */
.a11y-panel.placement-bottom .a11y-body { bottom: 70px; top: auto; }
.a11y-panel.placement-top .a11y-body { top: 70px; bottom: auto; }
.a11y-panel h4 { margin: 0 0 8px 0; color: var(--saffron); }
.a11y-row { margin-bottom: 8px; }
.a11y-row label { display: flex; align-items: center; gap: 8px; font-weight: 600; }
.a11y-fieldset { border: 1px dashed rgba(255,255,255,0.06); padding: 8px; border-radius: 8px; margin-top: 8px; }
.a11y-fieldset legend { color: var(--text-light); font-weight: 700; }
.a11y-actions { margin-top: 10px; display:flex; justify-content: flex-end; }
.a11y-body .reset-button { background: transparent; color: var(--saffron); border: 1px solid rgba(255,255,255,0.06); padding: 6px 10px; border-radius: 8px; }

/* CVD simulation (basic filters) - approximate visual helpers */
.a11y-cvd-protanopia { filter: contrast(0.95) saturate(0.9) hue-rotate(-20deg); }
.a11y-cvd-deuteranopia { filter: contrast(0.95) saturate(0.85) hue-rotate(10deg); }
.a11y-cvd-tritanopia { filter: contrast(0.95) saturate(0.9) hue-rotate(35deg); }
.a11y-cvd-achromatopsia { filter: grayscale(100%); }

/* Highlight links mode */
.a11y-highlight-links a {
    text-decoration: none;
    background: linear-gradient(90deg, rgba(255,235,59,0.16), rgba(255,214,10,0.08));
    padding: 8px 10px;
    border-radius: 8px;
    box-shadow: 0 12px 36px rgba(255,214,10,0.18), 0 0 18px rgba(255,214,10,0.08) inset;
    color: var(--big-stone);
    font-weight: 900;
    font-size: 1.02rem;
    transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease;
}
.a11y-highlight-links a:hover,
.a11y-highlight-links a:focus {
    transform: translateY(-3px);
    box-shadow: 0 20px 56px rgba(255,214,10,0.26), 0 0 40px rgba(255,214,10,0.14) inset;
    outline: none;
}

/* Light theme: use a stronger, darker gold background and dark text for contrast */
[data-theme="light"] .a11y-highlight-links a {
    background: linear-gradient(90deg, rgba(193,154,27,0.36), rgba(193,154,27,0.28));
    box-shadow: 0 12px 36px rgba(11,26,43,0.06), 0 0 8px rgba(193,154,27,0.06) inset;
    color: var(--text-dark);
    font-weight: 900;
    font-size: 1.04rem;
}

/* ------------------------------------------------------------------
   Fixes: hamburger visibility (light theme), accessibility panel mobile
   responsiveness, CVD control contrast, and remove white lines around
   logos in high-contrast.
   These rules are intentionally appended with high specificity to
   override previous cascade issues.
   ------------------------------------------------------------------ */

/* Force hamburger inner bars color in light theme with high specificity (make them black) */
html[data-theme="light"] .main-header .hamburger .hamburger-inner,
html[data-theme="light"] .main-header .hamburger .hamburger-inner:before,
html[data-theme="light"] .main-header .hamburger .hamburger-inner:after {
    background: #000000 !important;
}

/* Extra-most-specific override to ensure hamburger lines are black regardless of cascade */
header.main-header button.hamburger > .hamburger-box > .hamburger-inner,
header.main-header button.hamburger > .hamburger-box > .hamburger-inner:before,
header.main-header button.hamburger > .hamburger-box > .hamburger-inner:after {
    background: #000 !important;
    background-image: none !important;
}

/* Ensure hamburger button is visible and clickable across small/tablet breakpoints */
@media (max-width: 1024px) {
    html .main-header .hamburger { display: inline-flex !important; z-index: 1200 !important; }
    html[data-theme="light"] .main-header .hamburger { border-color: rgba(11,26,43,0.22) !important; background: rgba(11,26,43,0.04) !important; }
}

/* Align hamburger inner bars consistently regardless of previous cascade */
.main-header .hamburger-box { height: 20px !important; }
.main-header .hamburger-inner { top: 50% !important; transform: translateX(-50%) !important; }
.main-header .hamburger-inner:before { top: calc(50% - 6px) !important; }
.main-header .hamburger-inner:after { top: calc(50% + 6px) !important; }

/* Fallback sizing for very small screens */
@media (max-width: 420px) {
    .main-header .hamburger-box { height: 16px !important; }
    .main-header .hamburger-inner:before { top: calc(50% - 5px) !important; }
    .main-header .hamburger-inner:after { top: calc(50% + 5px) !important; }
}

/* Accessibility panel: responsive body so it never clips on small screens */
@media (max-width: 520px) {
    .a11y-panel { right: 12px !important; left: auto !important; }
    .a11y-panel .a11y-body {
        position: fixed !important;
        left: 8px !important;
        right: 8px !important;
        bottom: 86px !important; /* sit above the toggle */
        top: auto !important;
        width: auto !important;
        max-width: calc(100vw - 16px) !important;
        max-height: calc(100vh - 140px) !important;
        overflow: auto !important;
        border-radius: 12px !important;
        padding: 12px !important;
        box-shadow: 0 18px 48px rgba(0,0,0,0.48) !important;
        background: linear-gradient(145deg, var(--gun-powder), #2d3047) !important;
    }
}

/* Make sure the toggle button never overflows on very small screens */
.a11y-panel .a11y-toggle { min-width: 48px; min-height: 48px; }

/* Ensure select and option in accessibility panel are readable in both themes */
.a11y-body select, .a11y-body option {
    padding: 8px 10px !important;
    border-radius: 8px !important;
    border: 1px solid rgba(0,0,0,0.12) !important;
    background: rgba(255,255,255,0.06) !important;
    color: var(--text-light) !important;
}

/* Ensure CVD select/options are readable when dark theme or high-contrast is active */
html[data-theme="dark"] .a11y-body select, html[data-theme="dark"] .a11y-body option,
html.a11y-high-contrast[data-theme="dark"] .a11y-body select, html.a11y-high-contrast[data-theme="dark"] .a11y-body option {
    background: rgba(255,255,255,0.04) !important;
    color: #E7F4FF !important;
    border: 1px solid rgba(255,255,255,0.08) !important;
}


/* Ensure accessibility panel is readable under high-contrast + dark theme */
html.a11y-high-contrast[data-theme="dark"] .a11y-panel .a11y-body,
body.a11y-high-contrast[data-theme="dark"] .a11y-panel .a11y-body {
    background: #000000 !important;
    color: #ffffff !important;
}

/* Strong global override: keep the accessibility panel visually identical (dark-mode look)
   in all theme / high-contrast combinations so it remains readable and stable. */
html .a11y-panel .a11y-body,
html[data-theme="light"] .a11y-panel .a11y-body,
html.a11y-high-contrast[data-theme="light"] .a11y-panel .a11y-body,
body.a11y-high-contrast[data-theme="light"] .a11y-panel .a11y-body,
html.a11y-high-contrast[data-theme="dark"] .a11y-panel .a11y-body,
body.a11y-high-contrast[data-theme="dark"] .a11y-panel .a11y-body {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047) !important;
    color: var(--text-light) !important;
}

/* Ensure select/options inside the accessibility panel remain legible (black text on white)
   even after enforcing the panel dark; this keeps the CVD labels clearly visible. */
.a11y-panel .a11y-body select,
.a11y-panel .a11y-body option {
    background: #ffffff !important;
    color: #000000 !important;
    border: 1px solid rgba(11,26,43,0.06) !important;
}

/* Ensure select/options in dark theme are readable (fallback) */
html[data-theme="dark"] .a11y-body select,
html[data-theme="dark"] .a11y-body option,
body[data-theme="dark"] .a11y-body select,
body[data-theme="dark"] .a11y-body option {
    color: #E7F4FF !important;
    background: rgba(255,255,255,0.03) !important;
}

/* Strong override: inside the accessibility panel we want the select/option
   labels to be black on white so CVD options are clearly legible even when
   the site is in dark mode. This selector has high specificity and uses
   !important to override other theme rules. */
html[data-theme="dark"] .a11y-panel .a11y-body select,
html[data-theme="dark"] .a11y-panel .a11y-body option,
html.a11y-high-contrast[data-theme="dark"] .a11y-panel .a11y-body select,
html.a11y-high-contrast[data-theme="dark"] .a11y-panel .a11y-body option,
body[data-theme="dark"] .a11y-panel .a11y-body select,
body[data-theme="dark"] .a11y-panel .a11y-body option {
    background: #ffffff !important;
    color: #000000 !important;
    border: 1px solid rgba(11,26,43,0.06) !important;
}

/* Keep accessibility panel using dark-mode styling even when site theme is light
   (user requested the panel to always match dark-mode appearance). */
html[data-theme="light"] .a11y-panel .a11y-body,
body[data-theme="light"] .a11y-panel .a11y-body {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047) !important;
    color: var(--text-light) !important;
}
/* Ensure select/options inside the accessibility panel remain readable:
   force white background with black text so entries like 'Protanopia' are clearly visible. */
.a11y-panel .a11y-body select,
.a11y-panel .a11y-body option {
    background: #ffffff !important;
    color: #000000 !important;
    border: 1px solid rgba(11,26,43,0.06) !important;
}

/* Dark theme accessibility select: ensure contrast */
html[data-theme="dark"] .a11y-body select, html[data-theme="dark"] .a11y-body option {
    background: rgba(255,255,255,0.04) !important;
    color: var(--text-light) !important;
    border: 1px solid rgba(255,255,255,0.06) !important;
}


/* Remove any remaining white outlines / borders around logos in high-contrast mode */
.a11y-high-contrast .main-header .logo,
.a11y-high-contrast .main-header img,
.a11y-high-contrast .profile-photo,
.a11y-high-contrast .profile-avatar,
.a11y-high-contrast .logo-button img {
    box-shadow: none !important;
    border: none !important;
    outline: none !important;
    background: transparent !important;
}

/* Additionally, avoid bright white thin separators around the logo by removing
   any small outline/border rules applied at lower specificity. */
.a11y-high-contrast .main-header *,
.a11y-high-contrast .main-header *::before,
.a11y-high-contrast .main-header *::after {
    border-color: transparent !important;
    box-shadow: none !important;
}


[data-theme="light"] .a11y-highlight-links a:hover,
[data-theme="light"] .a11y-highlight-links a:focus {
    box-shadow: 0 22px 64px rgba(11,26,43,0.08), 0 0 20px rgba(193,154,27,0.12) inset;
    transform: translateY(-3px);
}

/* Dark theme: increase intensity to match light theme strength */
[data-theme="dark"] .a11y-highlight-links a {
    background: linear-gradient(90deg, rgba(255,214,10,0.36), rgba(255,193,7,0.28));
    box-shadow: 0 14px 44px rgba(255,193,7,0.22), 0 0 22px rgba(255,193,7,0.14) inset;
    color: var(--big-stone);
    font-weight: 900;
    font-size: 1.04rem;
}

[data-theme="dark"] .a11y-highlight-links a:hover,
[data-theme="dark"] .a11y-highlight-links a:focus {
    box-shadow: 0 26px 72px rgba(255,193,7,0.28), 0 0 36px rgba(255,193,7,0.18) inset;
}

/* Global text-scaling: prefer changing root font-size so rem-based text scales smoothly.
   This avoids layout collapse that can happen with page-wide transforms.
   We still provide a conservative `zoom` fallback for older browsers that don't support
   `calc()` with CSS variables. The applied scale is clamped by the JS slider to a safe max.
*/
.a11y-text-scaled {
    /* passthrough variable used by root font-size calculation */
    --applied-a11y-scale: var(--a11y-scale, 1);
}

/* Apply scaling by adjusting the root font-size so REM-based sizing grows naturally. */
html.a11y-text-scaled,
:root.a11y-text-scaled {
    font-size: calc(100% * var(--applied-a11y-scale));
}

/* Fallback for very old browsers: limit zoom so it never explodes layout. */
@supports not (font-size: calc(100% * var(--applied-a11y-scale))) {
    .a11y-text-scaled {
        zoom: min(var(--applied-a11y-scale), 1.2);
    }
}

/* Ensure fixed elements like header are not transformed by any legacy transform rules. */
.a11y-text-scaled .main-header { transform: none !important; }

/* Utility classes para destaque de links (inline e boxed) */
.highlight-link {
    color: var(--big-stone);
    background: linear-gradient(90deg, rgba(241,196,15,0.08), rgba(246,193,53,0.03));
    padding: 6px 10px;
    border-radius: 10px;
    box-shadow: none; /* sem brilho por padrão */
    font-weight: 800;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: transform 180ms ease, box-shadow 180ms ease;
}
.highlight-link:hover, .highlight-link:focus {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(246,193,53,0.12);
}
.highlight-link--box {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 10px 14px;
    border-radius: 14px;
    background: linear-gradient(90deg, rgba(255,247,205,0.08), rgba(246,193,53,0.03));
    box-shadow: none; /* sem brilho por padrão */
    color: var(--big-stone);
    font-weight: 800;
    transition: transform 180ms ease, box-shadow 180ms ease;
}
.highlight-link--box:hover, .highlight-link--box:focus {
    transform: translateY(-3px);
    box-shadow: 0 12px 36px rgba(246,193,53,0.12);
}

/* Glow only when active or when the accessibility/highlight mode is enabled */
.highlight-link.highlight--active,
.highlight-link--box.highlight--active,
.a11y-highlight-links .highlight-link,
.a11y-highlight-links .highlight-link--box {
    box-shadow: 0 18px 48px rgba(246,193,53,0.20), 0 0 36px rgba(246,193,53,0.12) inset;
    transform: translateY(-4px);
}

/* Reduce motion helper */
.a11y-reduce-motion * { transition: none !important; animation: none !important; }

/* Styled range input with filled track based on --a11y-scale-percent (set inline) */
.a11y-body input[type="range"] {
    width: 100%;
    height: 14px;
    appearance: none;
    background: linear-gradient(90deg, var(--accent-blue, #04477c), var(--accent-blue, #04477c)) left/ var(--a11y-scale-percent, 50%) 100% no-repeat, rgba(255,255,255,0.04);
    border-radius: 999px;
    border: 1px solid rgba(0,0,0,0.12);
    padding: 0;
}
.a11y-body input[type="range"]:focus { outline: none; box-shadow: 0 6px 20px rgba(4,71,124,0.18); }

/* Webkit track/thumb */
.a11y-body input[type="range"]::-webkit-slider-runnable-track { height: 14px; border-radius: 999px; }
.a11y-body input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; width: 22px; height: 22px; border-radius: 50%; background: white; border: 3px solid var(--accent-blue, #04477c); margin-top: -4px; box-shadow: 0 6px 18px rgba(4,71,124,0.18); cursor: pointer; }

/* Firefox */
.a11y-body input[type="range"]::-moz-range-track { height: 14px; border-radius: 999px; background: transparent; }
.a11y-body input[type="range"]::-moz-range-progress { background: var(--accent-blue, #04477c); height: 14px; border-radius: 999px; }
.a11y-body input[type="range"]::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: white; border: 3px solid var(--accent-blue, #04477c); box-shadow: 0 6px 18px rgba(4,71,124,0.18); cursor: pointer; }

/* High Contrast Mode - stronger palettes and clearer outlines
   Works with both light and dark themes; toggled by adding `.a11y-high-contrast` to <html> or <body>
*/
html.a11y-high-contrast[data-theme="dark"], body.a11y-high-contrast[data-theme="dark"] {
    --bg: #000000;
    --text-light: #ffffff;
    --text-dark: #ffffff;
    --accent-blue: #06385d;
    --saffron: #ffdf5a;
    --high-contrast-border: #ffffff;
}

/* Enforce high-contrast visuals but avoid full-area saffron fills that obscure layout.
   Use saffron as an accent (text, outlines, focus indicators) and keep large surfaces neutral.
*/
.a11y-high-contrast body, .a11y-high-contrast html { background-color: var(--bg) !important; color: var(--text-light) !important; }
.a11y-high-contrast a { color: var(--saffron) !important; background: transparent !important; text-decoration: underline !important; font-weight: 800 !important; }

/* Ensure all text elements in high-contrast are visible */
.a11y-high-contrast h1,
.a11y-high-contrast h2,
.a11y-high-contrast h3,
.a11y-high-contrast h4,
.a11y-high-contrast h5,
.a11y-high-contrast h6 {
    color: var(--text-light) !important;
}
/* Ensure modal/profile/plan cards use dark high-contrast palette regardless of theme */
.a11y-high-contrast .profile-modal-content,
.a11y-high-contrast .profile-card,
.a11y-high-contrast .plan-card,
.a11y-high-contrast .card.settings-section,
.a11y-high-contrast .card.settings-form {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047) !important;
    color: var(--text-light) !important;
    border-color: var(--high-contrast-border) !important;
    box-shadow: 0 8px 40px rgba(0,0,0,0.6) !important;
}

/* Ensure text under profile photo and modal headings are legible */
.a11y-high-contrast .profile-modal-content .modal-profile-name,
.a11y-high-contrast .profile-modal-content .modal-profile-role,
.a11y-high-contrast .profile-header .profile-tagline,
.a11y-high-contrast .profile-header .profile-location,
.a11y-high-contrast .profile-card .profile-name-large {
    color: var(--text-light) !important;
}

/* Plan card headings and descriptions should be clearly visible */
.a11y-high-contrast .plan-card h3,
.a11y-high-contrast .plan-card p {
    color: var(--text-light) !important;
}

/* Ensure inputs inside modal or profile settings remain dark-themed in high-contrast */
.a11y-high-contrast .profile-modal-content input,
.a11y-high-contrast .profile-modal-content textarea,
.a11y-high-contrast .settings-form input,
.a11y-high-contrast .settings-form textarea {
    background: rgba(255,255,255,0.03) !important;
    color: var(--text-light) !important;
    border: 1px solid rgba(255,255,255,0.06) !important;
}

/* Make login/register heading golden in high-contrast */
.a11y-high-contrast .registration-container h1,
.a11y-high-contrast .registration-container h2,
.a11y-high-contrast .login-container h1,
.a11y-high-contrast .login-container h2 {
    color: var(--saffron) !important;
}

/* Make form labels and input placeholders golden in high-contrast */
.a11y-high-contrast .registration-form label,
.a11y-high-contrast .login-form label,
.a11y-high-contrast .card-form label,
.a11y-high-contrast .settings-card label,
.a11y-high-contrast label {
    color: var(--saffron) !important;
    background: transparent !important;
}

/* Ensure form inputs and textareas in high-contrast are readable */
.a11y-high-contrast input,
.a11y-high-contrast textarea,
.a11y-high-contrast select {
    background: var(--bg) !important;
    color: var(--text-light) !important;
    border: 2px solid var(--high-contrast-border) !important;
}

/* Extra overrides to ensure profile and plan UI use dark high-contrast palette
   regardless of theme or other overrides. These use high specificity and !important. */
html.a11y-high-contrast .profile-card,
body.a11y-high-contrast .profile-card,
html.a11y-high-contrast .profile-card.card,
body.a11y-high-contrast .profile-card.card {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047) !important;
    color: var(--text-light) !important;
    border: 1px solid rgba(255,255,255,0.04) !important;
    box-shadow: 0 8px 30px rgba(0,0,0,0.6) !important;
}

html.a11y-high-contrast .profile-modal-content,
body.a11y-high-contrast .profile-modal-content {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047) !important;
    color: var(--text-light) !important;
    border: 1px solid rgba(255,255,255,0.06) !important;
    box-shadow: 0 10px 40px rgba(0,0,0,0.6) !important;
}

/* modal profile inner texts */
html.a11y-high-contrast .modal-profile-name,
body.a11y-high-contrast .modal-profile-name,
html.a11y-high-contrast .modal-profile-role,
body.a11y-high-contrast .modal-profile-role,
html.a11y-high-contrast .modal-profile-header,
body.a11y-high-contrast .modal-profile-header {
    color: var(--text-light) !important;
}

/* plan card overrides */
html.a11y-high-contrast .plan-card,
body.a11y-high-contrast .plan-card,
html.a11y-high-contrast .plan-card .card-button,
body.a11y-high-contrast .plan-card .card-button {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047) !important;
    color: var(--text-light) !important;
    border-color: rgba(255,255,255,0.06) !important;
}



/* Keep buttons and toggles readable but avoid filling entire UI with saffron.
   Active states use a strong outline / border or subtle fill on small controls only.
*/
.a11y-high-contrast button, .a11y-high-contrast .a11y-toggle { background: transparent !important; color: var(--text-light) !important; border: 2px solid var(--high-contrast-border) !important; }
.a11y-high-contrast .a11y-option-btn.active { background: var(--saffron) !important; color: var(--text-dark) !important; border-color: var(--saffron) !important; }
.a11y-high-contrast .a11y-panel.open .a11y-toggle { background: var(--saffron) !important; color: var(--text-dark) !important; border-color: var(--saffron) !important; }
.a11y-high-contrast .a11y-panel.open .a11y-toggle { background: var(--saffron) !important; color: var(--text-dark) !important; border-color: var(--saffron) !important; }

/* Prevent any large header or avatar backgrounds from becoming saffron bars.
    Use a consistent dark header background in high-contrast so the header doesn't
    turn white in light theme. Also remove decorative borders around logo/avatar.
*/
.a11y-high-contrast .main-header, .a11y-high-contrast header { background: var(--header-bg-dark-rgba) !important; border-bottom: 2px solid var(--high-contrast-border) !important; }
.a11y-high-contrast .main-header .logo, .a11y-high-contrast .profile-photo, .a11y-high-contrast .profile-avatar, .a11y-high-contrast .main-header img { background: transparent !important; box-shadow: none !important; border: none !important; }
.a11y-high-contrast img, .a11y-high-contrast svg { filter: none !important; }

.a11y-high-contrast *:focus { outline: 3px dashed var(--saffron) !important; outline-offset: 3px !important; }

/* Ensure highlighted links are extra-visible under high contrast but as a clear accent, not full-surface fill */
.a11y-high-contrast .a11y-highlight-links a { background: transparent !important; color: var(--saffron) !important; text-decoration: underline !important; box-shadow: none !important; padding: 4px 6px !important; border-radius: 4px !important; }


/* Quando reduzir animações, garantir que elementos que começam com opacity:0
   por causa das animações fiquem visíveis — não os ocultar. */
.a11y-reduce-motion .main-header,
.a11y-reduce-motion .main-content,
.a11y-reduce-motion .selection-container,
.a11y-reduce-motion .registration-container,
.a11y-reduce-motion .list-container .card,
.a11y-reduce-motion .profile-modal-content {
    opacity: 1 !important;
    transform: none !important;
}

/* For users who reduce motion, ensure active modals are visible but do not force hidden modals open */
.a11y-reduce-motion .profile-modal.is-active { display: flex !important; }
.a11y-reduce-motion .profile-modal.is-active .profile-modal-content { display: block !important; }

/* ==========================
   Botões - variantes elegantes
   ==========================
*/
.btn {
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.7rem 1.1rem;
    border-radius: 12px;
    font-weight: 700;
    font-size: 0.95rem;
    line-height: 1;
    cursor: pointer;
    border: none;
    transition: transform 180ms var(--transition-speed), box-shadow 180ms var(--transition-speed), opacity 160ms ease;
    -webkit-tap-highlight-color: transparent;
}

.btn:focus { outline: 3px solid rgba(0,114,178,0.18); outline-offset: 3px; }

.btn-primary {
    background: linear-gradient(90deg, var(--accent-blue), #2aa0f6);
    color: #fff;
    box-shadow: 0 8px 22px rgba(0,114,178,0.18);
}
.btn-primary:hover { transform: translateY(-3px); box-shadow: 0 20px 40px rgba(0,114,178,0.22); }
.btn-primary:active { transform: translateY(-1px); }

.btn-secondary {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    color: var(--text-light);
    border: 1px solid rgba(255,255,255,0.06);
}
.btn-secondary:hover { transform: translateY(-2px); }

/* Botão Voltar nas telas de login/registro: garantir contraste com o container */
.registration-container .btn-secondary,
.login-visual .btn-secondary {
    background: rgba(15,23,36,0.6); /* mais escuro que o container */
    color: #ffffff; /* fonte legível */
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: 0 8px 20px rgba(2,6,23,0.45);
    padding: 8px 12px;
    font-weight: 700;
    font-size: 0.95rem;
}

/* Versão explícita para o modo claro (garante consistência quando container está mais claro) */
[data-theme="light"] .registration-container .btn-secondary,
[data-theme="light"] .login-visual .btn-secondary {
    background: rgba(3,6,18,0.86);
    color: #fff;
    border-color: rgba(255,255,255,0.06);
}

.btn-ghost {
    background: transparent;
    color: var(--saffron);
    border: 1px solid rgba(255,255,255,0.04);
}
.btn-ghost:hover { background: rgba(255,255,255,0.02); transform: translateY(-1px); }

.btn-danger {
    background: linear-gradient(90deg,#ef4444,#f97316);
    color: #fff;
    box-shadow: 0 8px 24px rgba(249,115,22,0.12);
}
.btn-danger:hover { transform: translateY(-3px); }

.card-button {
    /* Botão primário padrão do projeto (aplicado via classe existente) */
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.75rem 1.2rem;
    border-radius: 12px;
    font-weight: 700;
    font-size: 0.95rem;
    background: linear-gradient(90deg, var(--accent-blue), #2aa0f6);
    color: #fff;
    box-shadow: 0 8px 22px rgba(0,114,178,0.16);
    border: none;
}
.card-button:hover { transform: translateY(-3px); box-shadow: 0 20px 40px rgba(0,114,178,0.22); }
.card-button:active { transform: translateY(-1px); }

.reset-button { /* estilo mais sutil */
    display: inline-flex; align-items:center; gap:0.5rem; padding: 0.5rem 0.9rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.06); background: transparent; color: var(--text-light); font-weight:700;
}
.reset-button:hover { background: rgba(255,255,255,0.02); transform: translateY(-1px); }

.remove-button {
    display:inline-flex; align-items:center; gap:0.5rem; padding: 0.6rem 0.9rem; border-radius: 10px; font-weight:700; background: linear-gradient(90deg,#ef4444,#f97316); color:#fff; border:none;
}
.remove-button:hover { transform: translateY(-3px); }

.a11y-toggle { /* tornar ícone mais elegante */
    display:inline-flex; align-items:center; justify-content:center; width:46px; height:46px; border-radius:10px; background: linear-gradient(90deg, var(--accent-blue), #2aa0f6); color:white; border:none; box-shadow: 0 10px 24px rgba(0,114,178,0.18);
}
.a11y-toggle:hover { transform: translateY(-3px); }

/* botão pequeno para inputs (upload edit icon) */
.profile-modal-content label { transition: transform 120ms ease; }
.profile-modal-content label:hover { transform: translateY(-2px); }

/* Accessibility panel buttons */
.a11y-options-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; margin-bottom: 10px; }
.a11y-option-btn { display:flex; align-items:center; gap:8px; padding:8px 10px; border-radius:10px; background: rgba(255,255,255,0.02); color:var(--text-light); border:1px solid rgba(255,255,255,0.03); cursor:pointer; font-weight:700; }
.a11y-option-btn .a11y-ico { font-weight:900; font-size:1.05rem; display:inline-block; width:26px; text-align:center; }
.a11y-option-btn .a11y-label { font-size:0.92rem; }
.a11y-option-btn.active { background: linear-gradient(90deg, var(--accent-blue), #2aa0f6); color:white; border-color: transparent; box-shadow: 0 8px 20px rgba(0,114,178,0.14); }
.a11y-option-btn.active { position: relative; }
.a11y-option-btn.active::after {
    content: '\2713';
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(255,255,255,0.9);
    color: var(--accent-blue);
    border-radius: 4px;
    padding: 0 6px;
    font-weight: 900;
    font-size: 0.9rem;
}
.a11y-option-btn:focus { outline: 3px solid rgba(0,114,178,0.18); outline-offset: 3px; }
.a11y-option-small { margin-left:8px; padding:6px 8px; border-radius:8px; background: transparent; color:var(--saffron); border:1px solid rgba(255,255,255,0.06); font-weight:700; }
.a11y-cvd-row { display:flex; gap:8px; align-items:center; }

/* ================= Accessibility panel styles (merged from Elance) ================= */
.accessibility-panel { position: fixed; top: 20px; right: 20px; z-index: 9999; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
.toggle-btn { padding: 12px 18px; border-radius: 8px; background: linear-gradient(90deg, var(--accent-blue), #2aa0f6); color: white; border: none; cursor: pointer; font-size: 16px; font-weight: 600; display:flex; align-items:center; gap:8px; }
.accessibility-menu { position: absolute; top: 60px; right: 0; background: linear-gradient(145deg, var(--gun-powder), #2d3047); color: var(--text-light); border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); width: 320px; max-height: 80vh; overflow-y: auto; padding: 20px; }
.accessibility-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.accessibility-header h2 { margin:0; font-size:18px; color:var(--saffron) }
.zoom-controls { display:flex; align-items:center; justify-content:space-around; gap:8px }
.zoom-btn { width:36px; height:36px; border-radius:6px; background: rgba(255,255,255,0.04); border:1px solid rgba(255,255,255,0.04); cursor:pointer }
#zoom-value { font-weight:600; color:var(--text-light); min-width:50px; text-align:center }
.checkbox-label { display:flex; align-items:center; gap:10px; cursor:pointer }
.checkbox-label input[type="checkbox"] { width:20px; height:20px; }
.theme-selector { display:grid; grid-template-columns: repeat(6, 1fr); gap:8px; padding:8px 0 }
.cb-btn { padding:10px 8px; border:2px solid rgba(255,255,255,0.06); background:transparent; border-radius:6px; cursor:pointer }
.reading-btn { padding:10px; background:transparent; color:var(--saffron); border:2px solid rgba(255,255,255,0.06); border-radius:6px }
.reset-btn { width:100%; padding:10px; background: transparent; border:1px solid rgba(255,255,255,0.04); border-radius:6px }

/* High contrast */
body.high-contrast-mode { background-color: #000 !important; color: #fff !important; }
body.high-contrast-mode a { color: #ffff00 !important; text-decoration: underline !important; }

/* Highlight links */
body.highlight-links-mode a { background-color: #ffff00 !important; color: #000 !important; padding:4px 6px !important; border-radius:4px !important; text-decoration: underline !important; }

/* Colorblind classes use SVG filters (injected by JS) */
body.colorblind-protanopia { filter: url(#protanopia-filter) !important; }
body.colorblind-deuteranopia { filter: url(#deuteranopia-filter) !important; }
body.colorblind-tritanopia { filter: url(#tritanopia-filter) !important; }

@media (max-width: 600px) {
    .accessibility-panel { top: 10px; right: 10px }
    .accessibility-menu { width: calc(100vw - 30px); max-height: 70vh; top: 55px }
}





/* ==========================================================================
   10. Modal de Perfil
   ========================================================================== */
.profile-modal {
    display: none;
    position: fixed;
    z-index: 3000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.7);
    align-items: center;
    justify-content: center;
}

.profile-modal-content {
    background: linear-gradient(145deg, var(--gun-powder), #2d3047);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--border-color);
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.5);
    padding: 30px;
    border-radius: 18px;
    width: 90%;
    max-width: 350px;
    position: relative;
    text-align: center;
}

/* Light-mode override for profile modal content */
[data-theme="light"] .profile-modal-content {
    background: linear-gradient(145deg, #fbf7ef, #f7f3ea) !important;
    border: 1px solid rgba(11,26,43,0.06) !important;
    color: var(--text-dark) !important;
    box-shadow: 0 8px 30px rgba(11,26,43,0.06) !important;
}

.profile-modal.is-active {
    display: flex; /* Esta é a regra que torna o modal visível */
}

/* Ensure site modals and overlays appear above the sticky header */
.modal, .modal-backdrop, .project-modal, .create-project-modal, .confirm-modal, .prompt-modal {
    z-index: 3000 !important;
}

.close-button {
    color: var(--regent-gray);
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close-button:hover,
.close-button:focus {
    color: var(--saffron);
    text-decoration: none;
}

.modal-profile-header {
    border-bottom: 1px solid rgba(132, 149, 169, 0.2);
    padding-bottom: 15px;
    margin-bottom: 15px;
}

.modal-profile-photo {
    width: 90px;
    height: 90px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid var(--saffron);
    box-shadow: 0 0 15px var(--glow-color-subtle); /* Glow mais discreto */
    margin-bottom: 1rem;
}

.modal-profile-name {
    font-size: 1.5rem;
    color: var(--saffron);
    margin: 10px 0 5px 0;
}

.modal-profile-role {
    font-size: 0.9rem;
    color: var(--regent-gray);
}

.modal-profile-nav {
    list-style: none;
    padding: 0;
    margin: 0;
}

.modal-profile-nav li a {
    display: block;
    padding: 10px 0;
    text-decoration: none;
    color: var(--bali-hai);
    transition: color 0.3s;
}

.modal-profile-nav li a:hover {
    color: var(--saffron);
}

/* ==========================================================================
   11. Media Queries para Responsividade
   ========================================================================== */

@media (max-width: 992px) {
    .main-header {
        padding: 0.8rem 1.4rem 1rem;
    }

    .main-nav ul {
        flex-wrap: wrap;
        justify-content: center;
        gap: 0.8rem;
    }

    .header-controls {
        width: 100%;
        justify-content: flex-end;
        gap: 0.6rem;
    }

    .messages-container {
        flex-direction: column;
        height: auto;
    }
}

@media (max-width: 768px) {
    .main-content {
        padding: 1rem;
    }

    /* Ajustar tamanho das logos em telas pequenas para evitar overflow */
    .logo-large {
        width: 160px;
    }
    .logo-small {
        width: 140px;
    }

    .logo {
        height: 140px; /* manter fallback para classe .logo quando usada */
    }

    .header-row {
        gap: 0.6rem;
        align-items: center;
    }

    .header-controls {
        flex-direction: column;
        align-items: center;
        width: 100%;
        gap: 0.8rem;
    }

    .profile-area {
        justify-content: space-between;
        align-items: center;
    }

    .profile-photo {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
    }

    /* On smaller screens hide desktop links and show hamburger */
    .hamburger { display: inline-flex; }
    .main-nav .desktop-links { display: none; }
    
    .search-bar {
        width: 100%;
        max-width: none;
    }

    .welcome-title {
        font-size: 2rem;
    }

    .selection-options {
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
    }
    /* Garantir que a classe .selection-row (que usa !important em regras globais)
       seja sobrescrita em telas pequenas para evitar overflow horizontal. */
    .selection-row {
        flex-direction: column !important;
        align-items: center;
        gap: 1.5rem;
        width: 100%;
    }
    .selection-card {
        width: 100%;
        max-width: none;
    }

    .registration-container {
        padding: 1.5rem;
    }

    /* Empilha conteúdo do login em telas pequenas */
    .login-horizontal {
        flex-direction: column;
        gap: 1.5rem;
    }

    .login-visual {
        border-right: none;
        padding-right: 0;
        border-bottom: 1px solid rgba(255,255,255,0.06);
        padding-bottom: 1.5rem;
    }

    .login-form {
        width: 100%;
    }

    .profile-header {
        flex-direction: column;
        text-align: center;
    }

    .profile-name-large {
        font-size: 1.8rem;
    }

    /* Chat layout adjustments for small screens */
    .messages-container { gap: 0.5rem; }
    .message-list { order: 2; }
    .chat-box { order: 1; }
    .message-content { max-width: 92%; }
    .message-avatar { width: 40px; height: 40px; }
    .chat-input { padding: 0.6rem; gap: 0.5rem; }
    .chat-input input { padding: 0.75rem; font-size: 0.95rem; }
    .chat-input button { padding: 0.7rem 1rem; min-width: 72px; }
}

/* Ensure mobile overlay panel centers and doesn't stretch weirdly */
.mobile-nav-overlay {
    padding: 0.8rem;
}
.mobile-nav-panel { display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 12px; }
.mobile-nav-panel ul { width: 100%; max-width: 520px; display: flex; flex-direction: column; align-items: center; gap: 8px; }
.mobile-nav-panel li { width: 100%; display: flex; justify-content: center; }
.mobile-nav-panel a, .mobile-nav-panel button { width: 100%; text-align: center; }

/* Theme-specific mobile panel colors */
[data-theme="light"] .mobile-nav-overlay {
    background: rgba(232,199,77,0.92); /* softer light overlay matching header */
}
[data-theme="light"] .mobile-nav-overlay .mobile-nav-panel {
    background: linear-gradient(180deg, var(--bg-gradient-start), var(--bg-gradient-end));
    color: var(--text-dark);
    border-radius: 14px;
    border: 1px solid rgba(11,26,43,0.08);
    box-shadow: 0 20px 60px rgba(11,26,43,0.12);
}

[data-theme="dark"] .mobile-nav-overlay {
    background: rgba(2,6,23,0.96);
}
[data-theme="dark"] .mobile-nav-overlay .mobile-nav-panel {
    background: linear-gradient(180deg, #0f1828, #0b1220);
    color: var(--text-light);
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.04);
    box-shadow: 0 20px 60px rgba(0,0,0,0.6);
}

/* Mobile links inside the panel should match theme text colors */
.mobile-nav-panel a { color: inherit; }
.mobile-nav-panel .card-button.mobile-logout { color: inherit; }

/* High contrast mobile panel */
.a11y-high-contrast .mobile-nav-overlay,
html.a11y-high-contrast .mobile-nav-overlay {
    background: rgba(0,0,0,0.98) !important;
}
.a11y-high-contrast .mobile-nav-overlay .mobile-nav-panel,
html.a11y-high-contrast .mobile-nav-overlay .mobile-nav-panel {
    background: #000 !important;
    color: #fff !important;
    border: 2px solid #fff !important;
}

/* Mobile-specific adjustments: make the panel start below the header, fill width and avoid side color mismatch */
@media (max-width: 768px) {
    .mobile-nav-overlay {
        align-items: flex-start;
        padding-top: 16px; /* reduced space so panel is closer to header */
        background: rgba(0,0,0,0.96);
    }
    /* Force overlay background to match panel so there are no visible side stripes */
    [data-theme="light"] .mobile-nav-overlay { background: rgba(240,225,187,0.96); }
    .mobile-nav-overlay .mobile-nav-panel {
        width: 100%;
        max-width: none;
        margin: 0;
        border-radius: 0;
        padding: 12px 10px;
        box-shadow: none;
    }
    [data-theme="light"] .mobile-nav-overlay .mobile-nav-panel { background: linear-gradient(180deg, var(--bg-gradient-start), var(--bg-gradient-end)); }
}

/* Ensure logout button is highlighted in dark theme too */
[data-theme="dark"] .mobile-logout {
    background: var(--saffron) !important;
    color: var(--big-stone) !important;
    border-color: rgba(0,0,0,0.06) !important;
}
[data-theme="dark"] .mobile-logout:hover { box-shadow: 0 14px 36px rgba(2,6,23,0.16) !important; transform: translateY(-2px) !important; }

.mobile-separator { width: 100%; }

/* Separator visual rules (no inline styles) */
.mobile-separator {
    margin: 12px 0;
    border-top: 1px solid rgba(255,255,255,0.06);
}

[data-theme="light"] .mobile-separator {
    border-top: 1px solid rgba(11,26,43,0.06);
}

.mobile-logout-wrap { width: 100%; margin-top: 8px; }
.mobile-logout { width: 100%; }

/* Mobile logout button styling: standout from page links */
.mobile-logout {
    background: var(--saffron);
    color: var(--big-stone);
    font-weight: 900;
    border: 2px solid rgba(0,0,0,0.06);
    box-shadow: 0 10px 24px rgba(2,6,23,0.12);
}
.mobile-logout:hover { transform: translateY(-2px); box-shadow: 0 14px 36px rgba(2,6,23,0.16); }

/* Ensure mobile nav links remain simple and not highlighted like action buttons */
.mobile-nav-panel a { background: transparent; color: var(--text-light); font-weight: 700; padding: 12px 16px; border-radius: 10px; }
.mobile-nav-panel a.active { background: rgba(255,255,255,0.04); }

/* Hamburger colors: in light mode use header / background colors to blend */
[data-theme="light"] .hamburger {
    border-color: rgba(11,26,43,0.18);
    background: var(--header-bg-light-rgba);
}
[data-theme="light"] .hamburger-inner,
[data-theme="light"] .hamburger-inner:before,
[data-theme="light"] .hamburger-inner:after {
    background: var(--bg-gradient-start);
}

[data-theme="dark"] .hamburger {
    border-color: rgba(255,255,255,0.08);
    background: transparent;
}
[data-theme="dark"] .hamburger-inner,
[data-theme="dark"] .hamburger-inner:before,
[data-theme="dark"] .hamburger-inner:after {
    background: var(--text-light);
}

/* Make sure the header only shows logo + hamburger on small screens */
@media (max-width: 480px) {
    .hamburger { width: 40px; height: 40px; }
    
    .profile-button {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }
    
    .profile-name {
        display: none;
    }
}

/* Final overrides: ensure hamburger uses consistent theme colors and no black borders.
   These rules are placed late in the file and use higher specificity and !important
   to override earlier declarations coming from build/dist or duplicated blocks. */
[data-theme="light"] .main-header .hamburger,
[data-theme="light"] .hamburger {
    border-color: rgba(11,26,43,0.18) !important;
    background: var(--header-bg-light-rgba) !important;
    box-shadow: none !important;
}
[data-theme="light"] .main-header .hamburger .hamburger-inner,
[data-theme="light"] .hamburger .hamburger-inner,
[data-theme="light"] .hamburger .hamburger-inner:before,
[data-theme="light"] .hamburger .hamburger-inner:after {
    background: var(--text-dark) !important; /* use header/background dark text color */
}

[data-theme="dark"] .main-header .hamburger,
[data-theme="dark"] .hamburger {
    border-color: rgba(255,255,255,0.12) !important; /* light border in dark mode */
    background: transparent !important;
    box-shadow: none !important;
}
[data-theme="dark"] .main-header .hamburger .hamburger-inner,
[data-theme="dark"] .hamburger .hamburger-inner,
[data-theme="dark"] .hamburger .hamburger-inner:before,
[data-theme="dark"] .hamburger .hamburger-inner:after {
    background: var(--text-light) !important;
}

/* Remove any unexpected black outlines near the hamburger when open/focused */
.hamburger.is-open, .hamburger:focus { box-shadow: none !important; }

/* Additional overrides to address visual issues reported:
   - move hamburger inner slightly down on small screens so it doesn't cover other buttons
   - force inner bar colors to match header/background in light and dark themes
   - remove unwanted borders around logo/profile images
   - make high-contrast header truly black and keep search-bar visible
*/
@media (max-width: 480px) {
    .hamburger .hamburger-inner { top: 8px !important; }
    .hamburger .hamburger-inner:before { top: -5px !important; }
    .hamburger .hamburger-inner:after { top: 9px !important; }
}

/* Force the hamburger inner bars to use header/background colors in light mode */
header.main-header[data-theme="light"] .hamburger .hamburger-inner,
header.main-header[data-theme="light"] .hamburger .hamburger-inner:before,
header.main-header[data-theme="light"] .hamburger .hamburger-inner:after,
[data-theme="light"] .main-header .hamburger .hamburger-inner,
[data-theme="light"] .hamburger .hamburger-inner { 
    background: var(--bg-gradient-start) !important;
}

/* Remove border and black outlines in light mode for the hamburger */
[data-theme="light"] .hamburger { border: none !important; }

/* Dark theme: ensure hamburger bars are light and no black borders */
[data-theme="dark"] .hamburger { border: none !important; }
[data-theme="dark"] .hamburger .hamburger-inner,
[data-theme="dark"] .hamburger .hamburger-inner:before,
[data-theme="dark"] .hamburger .hamburger-inner:after {
    background: var(--text-light) !important;
}

/* Remove borders/shadows around logos and profile images globally */
.main-header .logo, .profile-photo, .profile-photo img, .profile-avatar, .profile-avatar img {
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
}

/* High contrast adjustments: make header black in both themes and keep search-bar visible */
.a11y-high-contrast .main-header, html.a11y-high-contrast .main-header {
    background: #000 !important;
    color: #fff !important;
    border-bottom: 0 !important;
}
.a11y-high-contrast .search-bar, html.a11y-high-contrast .search-bar {
    background: #111 !important;
    border: 2px solid #fff !important;
}
.a11y-high-contrast .search-bar input { color: #fff !important; background: transparent !important; }

/* Force hamburger inner bars color in light theme to the requested hex */
[data-theme="light"] .hamburger .hamburger-inner,
[data-theme="light"] .hamburger .hamburger-inner:before,
[data-theme="light"] .hamburger .hamburger-inner:after,
/* Hamburger must be black in light mode for visibility */
header.main-header[data-theme="light"] .hamburger .hamburger-inner,
header.main-header[data-theme="light"] .hamburger .hamburger-inner:before,
header.main-header[data-theme="light"] .hamburger .hamburger-inner:after {
    background: #000000 !important;
}

/* Strongest possible override to force hamburger black in all light-theme scenarios */
html[data-theme="light"] body .main-header .hamburger .hamburger-inner,
html[data-theme="light"] body .main-header .hamburger .hamburger-inner:before,
html[data-theme="light"] body .main-header .hamburger .hamburger-inner:after,
[data-theme="light"] .main-header .hamburger .hamburger-inner,
[data-theme="light"] .main-header .hamburger .hamburger-inner:before,
[data-theme="light"] .main-header .hamburger .hamburger-inner:after {
    background: #000000 !important;
}

/* High-contrast: ensure dark theme also removes any leftover borders and makes text readable */
.a11y-high-contrast {
    --text-light: #ffffff !important;
    --text-medium: #d1d5db !important;
    --text-dark: #e6e6e6 !important;
    --bg: #000000 !important;
}
.a11y-high-contrast body, .a11y-high-contrast html {
    background: var(--bg) !important;
    color: var(--text-light) !important;
}

/* Remove borders/shadows around images in high contrast (both themes) */
.a11y-high-contrast .main-header .logo,
.a11y-high-contrast .profile-photo,
.a11y-high-contrast .profile-avatar,
.a11y-high-contrast img,
.a11y-high-contrast svg {
    border: none !important;
    box-shadow: none !important;
    background: transparent !important;
}

/* Improve legibility of common text elements in high contrast */
.a11y-high-contrast .main-nav a,
.a11y-high-contrast .main-content,
.a11y-high-contrast .profile-name,
.a11y-high-contrast .profile-name-large,
.a11y-high-contrast .welcome-title,
.a11y-high-contrast .card-description,
.a11y-high-contrast p,
.a11y-high-contrast li,
.a11y-high-contrast span {
    color: var(--text-light) !important;
}

/* High-contrast links: saffron with underline for visibility */
.a11y-high-contrast a { color: var(--saffron) !important; text-decoration: underline !important; background: transparent !important; }

/* Make headings and important labels golden in high contrast for stronger emphasis */
.a11y-high-contrast h1,
.a11y-high-contrast h2,
.a11y-high-contrast h3,
.a11y-high-contrast h4,
.a11y-high-contrast h5,
.a11y-high-contrast h6,
.a11y-high-contrast .main-nav a,
.a11y-high-contrast .logo-title,
.a11y-high-contrast .profile-name,
.a11y-high-contrast .profile-name-large,
.a11y-high-contrast .welcome-title {
    color: var(--saffron) !important;
}

/* White line under header to separate header from background in high contrast */
.a11y-high-contrast .main-header,
html.a11y-high-contrast .main-header {
    border-bottom: 2px solid #fff !important;
}




/* ==========================================================
   FORÇAR LAYOUT VERTICAL PARA CARDS DA PÁGINA INICIAL
   APLICA SOMENTE EM MOBILE (≤768px) PARA NÃO QUEBRAR DESKTOP
   ========================================================== */
@media (max-width: 768px) {
  .selection-page .selection-options,
  .selection-options,
  .selection-row,
  .selection-horizontal .selection-options {
      display: flex !important;
      flex-direction: column !important;
      flex-wrap: wrap !important;
      gap: 1rem !important;
      justify-content: center !important;
      align-items: stretch !important;
  }

  .selection-card {
      flex: 0 0 auto !important;
      width: 100% !important;
      max-width: 100% !important;
      min-width: 0 !important;
      box-sizing: border-box !important;
  }

  .selection-card .card-icon,
  .logo-large,
  .logo-small {
      max-width: 100% !important;
      height: auto !important;
  }

  /* Garantir que botões e textos não causem overflow */
  .selection-button,
  .selection-card > * {
      max-width: 100% !important;
      white-space: normal !important;
      word-break: break-word !important;
  }
}

/* --- Fixes requested: prevent horizontal drag, improve mobile panel and dark inputs --- */

/* Extra guard against horizontal scrolling introduced by wide children */
html, body, #root {
    max-width: 100%;
    overflow-x: hidden !important;
}

/* Mobile nav panel adjustments: remove wide side gutters, reduce top gap
   so the panel sits closer under the header and no different side color is visible. */
@media (max-width: 768px) {
    .mobile-nav-overlay {
        left: 0;
        right: 0;
        width: 100%;
        padding: 8px; /* keep small padding but avoid large top gap */
        background: rgba(0,0,0,0.96); /* fallback dark overlay */
    }
    /* Make overlay color explicit per theme so there are no visible side stripes */
    [data-theme="light"] .mobile-nav-overlay { background: rgba(240,225,187,0.96); }
    [data-theme="dark"] .mobile-nav-overlay { background: rgba(6,8,12,0.96); }

    .mobile-nav-overlay .mobile-nav-panel {
        width: 100%;
        max-width: none;
        margin: 0;
        border-radius: 0;
        padding: 10px 12px;
        box-shadow: none;
        background: none; /* keep panel visually consistent with overlay */
        background-clip: padding-box;
    }
}

/* Improve readability of form labels/placeholders/inputs in dark theme (login/registro) */
[data-theme="dark"] label,
[data-theme="dark"] .form-label,
[data-theme="dark"] .input-label {
    color: #E7F4FF !important; /* clear, slightly-blueish white */
}

[data-theme="dark"] input,
[data-theme="dark"] textarea,
[data-theme="dark"] select {
    color: #E7F4FF !important;
    background-color: rgba(255,255,255,0.02) !important;
    border-color: rgba(231,244,255,0.08) !important;
}

[data-theme="dark"] input::placeholder,
[data-theme="dark"] textarea::placeholder {
    color: rgba(231,244,255,0.56) !important; /* visible but softer */
    opacity: 1 !important;
}

/* If any page element is causing horizontal overflow, clip it on mobile */
@media (max-width: 1024px) {
    .main-content, .page, .page-wrapper, .selection-page {
        overflow-x: hidden !important;
    }
}

